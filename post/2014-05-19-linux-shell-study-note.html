<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>리눅스 쉘 학습 노트</title>
  <meta name="description" content="리눅스 쉘 학습하면서 남긴 노트다.">
  <link rel="stylesheet" href="/css/main.css" />
  <link rel="canonical" href="http://bakyeono.net/post/2014-05-19-linux-shell-study-note.html" />
  <link rel="alternate" type="application/rss+xml" title="박연오" href="http://bakyeono.net/feed.xml" />
  <script type="text/javascript" src="/lib/jquery/jquery-1.11.2.min.js"></script>
  <script type="text/javascript">
    "use strict";
    $(document).ready(function () {
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','//www.google-analytics.com/analytics.js','ga');
      ga('create','UA-44446622-4','auto');
      ga('send','pageview');
    });
  </script>
</head>

  <body>
    <header class="site-header">
  <div class="wrapper">
    <a class="site-title" href="/">박연오</a>
    <nav class="site-nav">
      <a href="#" class="menu-icon">
        <svg viewBox="0 0 18 15">
          <path fill="#424242" d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.031C17.335,0,18,0.665,18,1.484L18,1.484z"/>
          <path fill="#424242" d="M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0c0-0.82,0.665-1.484,1.484-1.484 h15.031C17.335,6.031,18,6.696,18,7.516L18,7.516z"/>
          <path fill="#424242" d="M18,13.516C18,14.335,17.335,15,16.516,15H1.484C0.665,15,0,14.335,0,13.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.031C17.335,12.031,18,12.696,18,13.516L18,13.516z"/>
        </svg>
      </a>
      <div class="trigger">
        
          
        
          
          <a class="page-link" href="/tag/book-review/">서평</a>
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
          <a class="page-link" href="/tag/fp/">흑마술</a>
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
      </div>
    </nav>
  </div>
</header>

    <div class="page-content">
      <div class="wrapper">
        

  </span>
  
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
        
      
    
      
    
      
    
      
    
      
    
      
    
    
      
      
    
  
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
        
      
    
      
    
      
    
      
    
      
    
    
      
      
    
  

<div class="post">
  <header class="post-header">
    <h1 class="post-title">리눅스 쉘 학습 노트</h1>
    <p class="post-meta">2014-05-19 • 박연오(bakyeono@gmail.com) • <i class="fa fa-tags"></i><a href="/tag/linux/">리눅스</a>, <a href="/tag/bash/">bash</a></p>
  </header>
  <article>
    <div class="post-content">
      <p>리눅스 쉘 학습하면서 남긴 노트다.</p>

<p><a href="http://bjpublic.tistory.com/145">《리눅스 커맨드라인 완벽 입문서》 (BJ퍼블릭)</a>로 학습했기 때문에 주로 이 책에 나오는 내용이 많다. 명령어를 참고하기 위한 용도로 남긴 노트이므로 설명은 대부분 생략했다.</p>

<p>쉘을 학습하려는 분은 책을 한 번 읽어보는 것이 좋을 것이다. 이 책에는 쉘에 관한 설명 뿐 아니라 리눅스와 해커들의 역사, 쉘에서 유의해야 할 점(압축을 두 번 세 번 씩 하지 말라거나) 등 흥미로운 읽을 거리도 많다. 쉘 입문용으로 매우 좋은 책인 듯하다.</p>

<ul id="markdown-toc">
  <li><a href="#section" id="markdown-toc-section">주요 경로</a></li>
  <li><a href="#section-1" id="markdown-toc-section-1">명령</a>    <ul>
      <li><a href="#section-2" id="markdown-toc-section-2">도움말</a></li>
      <li><a href="#section-3" id="markdown-toc-section-3">명령어의 종류</a></li>
      <li><a href="#man-" id="markdown-toc-man-">man 페이지</a></li>
      <li><a href="#apropos---man---" id="markdown-toc-apropos---man---">apropos - man 페이지 목록 검색</a></li>
      <li><a href="#info-----" id="markdown-toc-info-----">info - 프로그램 정보 표시</a></li>
      <li><a href="#alias" id="markdown-toc-alias">alias</a></li>
    </ul>
  </li>
  <li><a href="#section-4" id="markdown-toc-section-4">파일 시스템</a>    <ul>
      <li><a href="#inode" id="markdown-toc-inode">하드 링크와 아이노드(inode)</a></li>
      <li><a href="#section-5" id="markdown-toc-section-5">심볼릭 링크</a></li>
    </ul>
  </li>
  <li><a href="#section-6" id="markdown-toc-section-6">쉘 사용</a>    <ul>
      <li><a href="#section-7" id="markdown-toc-section-7">쉘 확장</a></li>
      <li><a href="#section-8" id="markdown-toc-section-8">히스토리</a></li>
      <li><a href="#gz--" id="markdown-toc-gz--">.gz 파일 보기</a></li>
    </ul>
  </li>
  <li><a href="#section-9" id="markdown-toc-section-9">권한</a>    <ul>
      <li><a href="#section-10" id="markdown-toc-section-10">사용자 / 그룹</a></li>
      <li><a href="#section-11" id="markdown-toc-section-11">권한</a></li>
    </ul>
  </li>
  <li><a href="#section-12" id="markdown-toc-section-12">프로세스</a>    <ul>
      <li><a href="#section-13" id="markdown-toc-section-13">프로세스 정보</a></li>
      <li><a href="#section-14" id="markdown-toc-section-14">프로세스 제어</a></li>
    </ul>
  </li>
  <li><a href="#section-15" id="markdown-toc-section-15">환경</a>    <ul>
      <li><a href="#section-16" id="markdown-toc-section-16">환경 변수 조작</a></li>
    </ul>
  </li>
  <li><a href="#section-17" id="markdown-toc-section-17">패키지 관리</a></li>
  <li><a href="#section-18" id="markdown-toc-section-18">미디어</a>    <ul>
      <li><a href="#section-19" id="markdown-toc-section-19">저장 장치 마운트</a></li>
      <li><a href="#section-20" id="markdown-toc-section-20">미디어 이미지 복사</a></li>
    </ul>
  </li>
  <li><a href="#section-21" id="markdown-toc-section-21">네트워크</a>    <ul>
      <li><a href="#section-22" id="markdown-toc-section-22">네트워크 관리</a></li>
      <li><a href="#section-23" id="markdown-toc-section-23">네트워크 사용</a></li>
      <li><a href="#ftp-" id="markdown-toc-ftp-">FTP 명령어</a></li>
    </ul>
  </li>
  <li><a href="#section-24" id="markdown-toc-section-24">파일 검색</a>    <ul>
      <li><a href="#find" id="markdown-toc-find">find</a></li>
      <li><a href="#grep" id="markdown-toc-grep">grep</a></li>
    </ul>
  </li>
  <li><a href="#section-25" id="markdown-toc-section-25">파일 관리</a></li>
  <li><a href="#section-26" id="markdown-toc-section-26">파일 압축</a>    <ul>
      <li><a href="#gzip" id="markdown-toc-gzip">gzip</a></li>
      <li><a href="#bzip2" id="markdown-toc-bzip2">bzip2</a></li>
      <li><a href="#tar" id="markdown-toc-tar">tar</a></li>
      <li><a href="#section-27" id="markdown-toc-section-27">파일 동기화</a></li>
    </ul>
  </li>
  <li><a href="#section-28" id="markdown-toc-section-28">텍스트 조작</a>    <ul>
      <li><a href="#cat" id="markdown-toc-cat">cat</a></li>
      <li><a href="#sort" id="markdown-toc-sort">sort</a></li>
      <li><a href="#uniq" id="markdown-toc-uniq">uniq</a></li>
      <li><a href="#cut" id="markdown-toc-cut">cut</a></li>
      <li><a href="#diff" id="markdown-toc-diff">diff</a></li>
      <li><a href="#tr" id="markdown-toc-tr">tr</a></li>
      <li><a href="#sed-stream-editor" id="markdown-toc-sed-stream-editor">sed (stream editor)</a></li>
    </ul>
  </li>
  <li><a href="#section-30" id="markdown-toc-section-30">텍스트 출력 포맷</a></li>
  <li><a href="#section-31" id="markdown-toc-section-31">컴파일</a>    <ul>
      <li><a href="#c---" id="markdown-toc-c---">일반적인 c 프로젝트 컴파일 과정</a></li>
      <li><a href="#objdump---" id="markdown-toc-objdump---">objdump - 디스어셈블</a></li>
    </ul>
  </li>
  <li><a href="#section-32" id="markdown-toc-section-32">쉘 스크립트</a>    <ul>
      <li><a href="#section-33" id="markdown-toc-section-33">쉘 스크립트 작성 과정</a></li>
      <li><a href="#section-34" id="markdown-toc-section-34">스크립트 파일 헤더</a></li>
      <li><a href="#section-35" id="markdown-toc-section-35">스크립트 저장 위치</a></li>
      <li><a href="#here-" id="markdown-toc-here-">Here 문서</a></li>
      <li><a href="#section-36" id="markdown-toc-section-36">쉘 함수</a></li>
      <li><a href="#section-37" id="markdown-toc-section-37">지역 변수</a></li>
      <li><a href="#exit-status" id="markdown-toc-exit-status">종료 상태 (exit status)</a></li>
      <li><a href="#section-38" id="markdown-toc-section-38">분기</a></li>
      <li><a href="#section-42" id="markdown-toc-section-42">현대식 테스트</a></li>
      <li><a href="#read" id="markdown-toc-read">read</a></li>
      <li><a href="#section-47" id="markdown-toc-section-47">반복</a></li>
      <li><a href="#section-48" id="markdown-toc-section-48">위치 매개변수</a></li>
      <li><a href="#section-52" id="markdown-toc-section-52">변수 확장</a></li>
      <li><a href="#section-57" id="markdown-toc-section-57">산술 연산 확장</a></li>
      <li><a href="#section-63" id="markdown-toc-section-63">기타 확장</a></li>
      <li><a href="#bash-" id="markdown-toc-bash-">bash 배열</a></li>
      <li><a href="#section-74" id="markdown-toc-section-74">그룹 명령과 서브쉘</a></li>
      <li><a href="#section-75" id="markdown-toc-section-75">프로세스 치환</a></li>
      <li><a href="#section-76" id="markdown-toc-section-76">트랩</a></li>
      <li><a href="#section-77" id="markdown-toc-section-77">임시 파일</a></li>
      <li><a href="#section-78" id="markdown-toc-section-78">비동기 실행</a></li>
      <li><a href="#section-79" id="markdown-toc-section-79">네임드 파이프</a></li>
      <li><a href="#section-80" id="markdown-toc-section-80">디버깅</a></li>
    </ul>
  </li>
  <li><a href="#section-82" id="markdown-toc-section-82">기타</a>    <ul>
      <li><a href="#date" id="markdown-toc-date">date</a></li>
    </ul>
  </li>
</ul>

<h2 id="section">주요 경로</h2>

<table>
  <thead>
    <tr>
      <th>경로</th>
      <th>설명</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>/</code></td>
      <td>루트</td>
    </tr>
    <tr>
      <td><code>/bin</code></td>
      <td>시스템 부팅, 실행 바이너리</td>
    </tr>
    <tr>
      <td><code>/boot</code></td>
      <td>리눅스 커널, 시작 RAM 디스크 이미지, 부트로더</td>
    </tr>
    <tr>
      <td><code>/dev</code></td>
      <td>커널이 인식하는 모든 디바이스 노드</td>
    </tr>
    <tr>
      <td><code>/etc</code></td>
      <td>시스템 전반의 환경설정 파일</td>
    </tr>
    <tr>
      <td><code>/etc/crontab</code></td>
      <td>자동 실행 업무(job) 정의 파일</td>
    </tr>
    <tr>
      <td><code>/etc/fstab</code></td>
      <td>저장장치 테이블과 마운트 정보</td>
    </tr>
    <tr>
      <td><code>/etc/passwd</code></td>
      <td>사용자 계정 정보</td>
    </tr>
    <tr>
      <td><code>/etc/shadow</code></td>
      <td>사용자 비밀번호 정보</td>
    </tr>
    <tr>
      <td><code>/etc/group</code></td>
      <td>사용자 그룹 정보</td>
    </tr>
    <tr>
      <td><code>/home</code></td>
      <td>사용자 홈 디렉토리</td>
    </tr>
    <tr>
      <td><code>/lib</code></td>
      <td>시스템 프로그램이 사용하는 공유 라이브러리</td>
    </tr>
    <tr>
      <td><code>/lost+found</code></td>
      <td>파일시스템에 문제가 생겼을 때 파일이 복구되는 위치</td>
    </tr>
    <tr>
      <td><code>/media</code></td>
      <td>CD-ROM, USB 저장장치 등 휴대용 장치 (자동) 마운트 포인트</td>
    </tr>
    <tr>
      <td><code>/mnt</code></td>
      <td>구식 리눅스 시스템의 휴대용 장치 (수동) 마운트 포인트</td>
    </tr>
    <tr>
      <td><code>/opt</code></td>
      <td>(상업용) 추가 소프트웨어 설치 위치</td>
    </tr>
    <tr>
      <td><code>/proc</code></td>
      <td>커널 정보를 담은 가상 파일 시스템</td>
    </tr>
    <tr>
      <td><code>/proc/cpuinfo</code></td>
      <td>cpu 정보</td>
    </tr>
    <tr>
      <td><code>/proc/</code><em>pid</em></td>
      <td><em>pid</em>에 해당하는 프로세스의 정보</td>
    </tr>
    <tr>
      <td><code>/root</code></td>
      <td>루트 계정의 홈 디렉토리</td>
    </tr>
    <tr>
      <td><code>/sbin</code></td>
      <td>슈퍼유저의 시스템 작업을 위한 시스템 바이너리 파일</td>
    </tr>
    <tr>
      <td><code>/tmp</code></td>
      <td>임시 저장용 디렉토리</td>
    </tr>
    <tr>
      <td><code>/usr</code></td>
      <td>일반 사용자가 사용하는 모든 프로그램과 지원 파일</td>
    </tr>
    <tr>
      <td><code>/usr/bin</code></td>
      <td>리눅스 배포판이 설치한 실행 프로그램들</td>
    </tr>
    <tr>
      <td><code>/usr/lib</code></td>
      <td><code>/usr/bin</code>을 위한 공유 라이브러리</td>
    </tr>
    <tr>
      <td><code>/usr/local</code></td>
      <td>시스템 전반에 걸쳐 사용되는 프로그램, 주로 직접 컴파일한 프로그램</td>
    </tr>
    <tr>
      <td><code>/usr/sbin</code></td>
      <td>시스템 관리 프로그램</td>
    </tr>
    <tr>
      <td><code>/usr/share</code></td>
      <td><code>/usr/bin</code>의 공유 데이터 저장, 디폴트 설정 파일, 리소스 파일 등</td>
    </tr>
    <tr>
      <td><code>/usr/share/dict/words</code></td>
      <td>사전</td>
    </tr>
    <tr>
      <td><code>/usr/share/doc</code></td>
      <td>패키지 문서 파일</td>
    </tr>
    <tr>
      <td><code>/var</code></td>
      <td>가변 데이터. 데이터베이스, 스풀 파일, 사용자 메일, 로그 파일 등</td>
    </tr>
    <tr>
      <td><code>/var/log</code></td>
      <td>시스템 활동 기록하는 로그 파일</td>
    </tr>
    <tr>
      <td><code>/var/log/auth.log</code></td>
      <td>로그인 기록</td>
    </tr>
  </tbody>
</table>

<h2 id="section-1">명령</h2>

<h3 id="section-2">도움말</h3>

<ul>
  <li>명령어 찾기: <code>whereis</code></li>
  <li>명령어 목록: <code>apropos</code></li>
  <li>명령어 도움말: <code>help</code></li>
  <li>명령어 메뉴얼: <code>man</code></li>
  <li>명령어 정보 보기: <code>info</code></li>
  <li>명령어 간단 설명: <code>whatis</code></li>
  <li>명령어 전체경로 표시: <code>which</code></li>
  <li>명령어 종류 확인: <code>type</code></li>
  <li>핵심 유틸리티 안내: <code>info coreutils</code></li>
</ul>

<h3 id="section-3">명령어의 종류</h3>

<ol>
  <li>실행 프로그램 (binary or script)</li>
  <li>쉘 내장 명령어</li>
  <li>쉘 함수</li>
  <li>별칭 (alias)</li>
</ol>

<ul>
  <li><code>type</code>: 명령어 종류 확인</li>
</ul>

<h3 id="man-">man 페이지</h3>

<p><code>man section search-term</code></p>

<ol>
  <li>사용자 명령어</li>
  <li>커널 시스템 콜 API</li>
  <li>C 라이브러리 API</li>
  <li>장치 노드 및 드라이버와 같은 특수 파일</li>
  <li>파일 포맷</li>
  <li>스크린세이버, 게임, 미디어 파일</li>
  <li>그 외</li>
  <li>시스템 관리용 명령어</li>
</ol>

<h3 id="apropos---man---">apropos - man 페이지 목록 검색</h3>

<p>명령어 찾기에 사용</p>

<h3 id="info-----">info - 프로그램 정보 표시</h3>

<p>GNU 프로젝트에서 제공하는, man 페이지의 대안. 하이퍼링크 지원.</p>

<h3 id="alias">alias</h3>

<ul>
  <li><code>alias</code></li>
  <li><code>which</code></li>
</ul>

<h2 id="section-4">파일 시스템</h2>

<h3 id="inode">하드 링크와 아이노드(inode)</h3>

<p>파일을 생성할 할 때,</p>

<ul>
  <li>데이터 영역 (inode로 가리킴?)</li>
  <li>이름 영역</li>
</ul>

<p>을 나누어 생성한다.</p>

<p>각 하드 링크는 파일 내용을 담은 각각의 아이노드를 참조한다.</p>

<h3 id="section-5">심볼릭 링크</h3>

<p><code>ln -s src dst</code></p>

<ul>
  <li>src는 dst의 위치를 기준으로 해야 함.</li>
  <li>src는 절대 경로이어도 됨.</li>
  <li>디렉토리도 참조 가능. (하드 링크는 불가능)</li>
</ul>

<h2 id="section-6">쉘 사용</h2>

<h3 id="section-7">쉘 확장</h3>

<table>
  <thead>
    <tr>
      <th>종류</th>
      <th>예</th>
      <th>설명</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>경로명 확장</td>
      <td><code>*</code></td>
      <td>경로내 파일명들로 확장</td>
    </tr>
    <tr>
      <td>틸드 확장</td>
      <td><code>~</code></td>
      <td>사용자 홈 디렉토리로 확장</td>
    </tr>
    <tr>
      <td>산술 확장</td>
      <td><code>$((expression))</code></td>
      <td>연산 결과로 치환</td>
    </tr>
    <tr>
      <td>중괄호 확장</td>
      <td><code>pre{opt1,opt2,...}post</code></td>
      <td>텍스트 조합</td>
    </tr>
    <tr>
      <td>중괄호 확장</td>
      <td><code>pre{range1..range2}post</code></td>
      <td>텍스트 조합(범위)</td>
    </tr>
    <tr>
      <td>매개변수 확장</td>
      <td><code>$var</code></td>
      <td>변수를 평가</td>
    </tr>
    <tr>
      <td>명령어 치환</td>
      <td><code>$(command)</code></td>
      <td>명령어를 실행한 출력 결과로 치환</td>
    </tr>
    <tr>
      <td>명령어 치환</td>
      <td><code>`command`</code></td>
      <td>명령어를 실행한 출력 결과로 치환</td>
    </tr>
    <tr>
      <td>쌍 따옴표</td>
      <td><code>"command line"</code></td>
      <td><code>$</code>, <code>\</code>, <code>`</code> 기호를 제외한 인용</td>
    </tr>
    <tr>
      <td>따옴표</td>
      <td><code>'command line'</code></td>
      <td>전체 인용</td>
    </tr>
    <tr>
      <td>이스케이프</td>
      <td><code>"\n"</code></td>
      <td> </td>
    </tr>
  </tbody>
</table>

<h3 id="section-8">히스토리</h3>

<ul>
  <li>자동 완성: <code>tab</code></li>
  <li><code>history</code>: 히스토리 목록</li>
  <li><code>!n</code>: n번 히스토리로 치환</li>
  <li><code>C-R</code>: 히스토리에서 역순 증분 검색</li>
  <li><code>C-J</code>: 증분 검색중 선택</li>
  <li><code>C-G</code>: 증분 검색 종료</li>
</ul>

<h3 id="gz--">.gz 파일 보기</h3>

<ul>
  <li><code>less</code> 대신 <code>zless</code>를 사용.</li>
</ul>

<h2 id="section-9">권한</h2>

<h3 id="section-10">사용자 / 그룹</h3>

<ul>
  <li><code>adduser</code>: 사용자 계정 생성 (대화식)</li>
  <li><code>useradd</code>: 사용자 계정 생성</li>
  <li><code>usermod</code>: 사용자 계정 정보 변경</li>
  <li><code>addgroup</code>: 사용자 그룹 변경 (대화식)</li>
  <li><code>groupadd</code>: 사용자 그룹 변경</li>
  <li><code>passwd</code>: 사용자 비밀번호 변경</li>
</ul>

<p>예)</p>

<ul>
  <li><code>usermod -a -G www-data user-a</code>: 사용자 user-a를 그룹 www-data에 추가</li>
</ul>

<h3 id="section-11">권한</h3>

<ul>
  <li><code>chown</code>: 파일/디렉토리 소유자 변경</li>
  <li><code>chmod</code>: 파일/디렉토리 권한 변경</li>
</ul>

<h2 id="section-12">프로세스</h2>

<h3 id="section-13">프로세스 정보</h3>

<ul>
  <li><code>ps</code>: 실행 중인 프로세스 정보</li>
  <li><code>ps -ef</code>: 실행 중인 모든 프로세스 정보 (UNIX 스타일)</li>
  <li><code>ps aux</code>: 실행 중인 모든 프로세스 정보 (BSD 스타일)</li>
  <li><code>pstree</code>: 프로세스 부모/자식 관계 트리</li>
  <li><code>vmstat</code>: 메모리, 스왑, 디스크 I/O 등 시스템 자원 사용 현황</li>
  <li><code>xload</code>: 시스템 부하 그래프 GUI</li>
  <li><code>tload</code>: 시스템 부하 그래프 터미널</li>
</ul>

<h3 id="section-14">프로세스 제어</h3>

<ul>
  <li><code>jobs</code>: 작업 프로세스 보기</li>
  <li><code>fs %n</code>: %n번 job을 포어그라운드로 전환</li>
  <li><code>bs %n</code>: %n번 job을 백그라운드로 전환</li>
  <li><code>kill pid</code>: pid 프로세스에 TERM 신호</li>
  <li><code>kill -9 pid</code>: pid 프로세스를 KILL</li>
</ul>

<h2 id="section-15">환경</h2>

<h3 id="section-16">환경 변수 조작</h3>

<ul>
  <li><code>set</code>: 쉘 변수와 환경 변수 출력</li>
  <li><code>env</code>: 환경 변수 출력</li>
  <li><code>printenv VAR</code>: 환경 변수 VAR의 값 출력</li>
  <li><code>echo $VAR</code>: 환경 변수 VAR의 값 출력</li>
  <li><code>export VAR</code>: 쉘과 쉘에서 실행되는 프로세스들에 VAR를 정의</li>
  <li><code>alias</code>: 명령어 별칭 목록 / 생성</li>
</ul>

<h2 id="section-17">패키지 관리</h2>

<table>
  <thead>
    <tr>
      <th>작업</th>
      <th>rpm</th>
      <th>dpkg</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>저장소 목록 업데이트</td>
      <td> </td>
      <td><code>apt-get update</code></td>
    </tr>
    <tr>
      <td>저장소 패키지 찾기</td>
      <td><code>yum search [pkg]</code></td>
      <td><code>apt-cache search [pkg]</code></td>
    </tr>
    <tr>
      <td>저장소 패키지 설치</td>
      <td><code>yum install [pkg]</code></td>
      <td><code>apt-get install [pkg]</code></td>
    </tr>
    <tr>
      <td>패키지 파일 설치</td>
      <td><code>rpm -i [file]</code></td>
      <td><code>dpkg --install [file]</code></td>
    </tr>
    <tr>
      <td>패키지 삭제</td>
      <td><code>yum erase [pkg]</code></td>
      <td><code>apt-get remove [pkg]</code></td>
    </tr>
    <tr>
      <td>저장소 패키지 업데이트</td>
      <td><code>yum update</code></td>
      <td><code>apt-get upgrade</code></td>
    </tr>
    <tr>
      <td>패키지 파일 업데이트</td>
      <td><code>rpm -U [file]</code></td>
      <td><code>dpkg --install [pkg]</code></td>
    </tr>
    <tr>
      <td>설치된 패키지 목록</td>
      <td><code>rpm -qa</code></td>
      <td><code>dpkg --list</code></td>
    </tr>
    <tr>
      <td>패키지 설치여부</td>
      <td><code>rpm -q [pkg]</code></td>
      <td><code>dpkg --status [pkg]</code></td>
    </tr>
    <tr>
      <td>설치된 패키지 정보</td>
      <td><code>yum info [pkg]</code></td>
      <td><code>apt-cache show [pkg]</code></td>
    </tr>
    <tr>
      <td>파일로 패키지 검색</td>
      <td><code>rpm -qf [file]</code></td>
      <td><code>dpkg --search [file]</code></td>
    </tr>
  </tbody>
</table>

<h2 id="section-18">미디어</h2>

<h3 id="section-19">저장 장치 마운트</h3>

<ul>
  <li><code>cat /etc/fstab</code>: 부팅 시 마운트된 장치 목록</li>
  <li><code>mount</code>: 현재 마운트된 장치 목록</li>
  <li><code>mount src dst</code>: 장치 마운트</li>
  <li><code>mount -t cdrom src dst</code>: CD-ROM 마운트</li>
  <li><code>umount target</code>: 마운트 해제</li>
</ul>

<h3 id="section-20">미디어 이미지 복사</h3>

<ul>
  <li><code>dd if=input_file of=output_file [bs=block_size [count=blocks]]</code></li>
</ul>

<h2 id="section-21">네트워크</h2>

<h3 id="section-22">네트워크 관리</h3>

<ul>
  <li><code>ping host</code>: ICMP ECHO_REQUEST 전송 / 확인</li>
  <li><code>traceroute host</code>: 패킷 경로 추적</li>
  <li><code>netstat</code>: 네트워크 설정 및 통계 정보 확인</li>
  <li><code>netstat -ie</code>: 네트워크 인터페이스 정보 확인 (<code>ifconfig</code>)</li>
  <li><code>netstat -r</code>: 네트워크 라우팅 테이블 정보 확인</li>
</ul>

<h3 id="section-23">네트워크 사용</h3>

<ul>
  <li><code>wget url</code>: 다운로드</li>
  <li><code>curl url &gt; dst</code>: 데이터 다운로드</li>
  <li><code>curl url &lt; src</code>: 데이터 업로드</li>
  <li><code>ssh -p port id@host</code> SSH 접속</li>
  <li><code>ssh -p port id@host command</code> SSH 접속, command 실행결과 반환</li>
  <li><code>ssh [-X|-Y] port id@host</code> SSH 터널링, X 클라이언트로 접속</li>
  <li><code>sftp -P port id@host</code> SSH 활용, FTP 에뮬레이트 접속</li>
</ul>

<h3 id="ftp-">FTP 명령어</h3>
<ul>
  <li><code>cd</code></li>
  <li><code>ls</code></li>
  <li><code>lcd</code>: (local) cd</li>
  <li><code>lls</code>: (local) ls</li>
  <li><code>get [-r] src [dst]</code>: remote -&gt; local</li>
  <li><code>put [-r] src [dst]</code>: local -&gt; remote</li>
</ul>

<h2 id="section-24">파일 검색</h2>

<ul>
  <li><code>locate</code>: 파일 경로 찾기</li>
  <li><code>find</code>: 파일 검색 &amp; 추가 작업</li>
  <li><code>xargs</code>: 표준 입력으로 인자 목록을 만들어 실행</li>
  <li><code>grep</code>: 표준 입력에서 정규표현식으로 검색</li>
</ul>

<h3 id="find">find</h3>

<h4 id="find--">find 검색 옵션</h4>

<p>다음 옵션으로 검색할 파일/디렉토리를 지정한다.</p>

<table>
  <thead>
    <tr>
      <th>옵션</th>
      <th>예</th>
      <th>의미</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>-type c</code></td>
      <td><code>-type c</code></td>
      <td>c 형식의 파일 검색 (<code>b</code>, <code>c</code>, <code>d</code>, <code>f</code>, <code>l</code>)</td>
    </tr>
    <tr>
      <td><code>-size n</code></td>
      <td><code>-size +200k</code></td>
      <td>크기가 n과 같음</td>
    </tr>
    <tr>
      <td><code>-name pattern</code></td>
      <td><code>-name foobar</code></td>
      <td>이름이 와일드카드 패턴과 일치함</td>
    </tr>
    <tr>
      <td><code>-iname pattern</code></td>
      <td><code>-iname foobar</code></td>
      <td>대소문자 구별 없는 -name</td>
    </tr>
    <tr>
      <td><code>-regex pattern</code></td>
      <td><code>-regex '[0-9]+'</code></td>
      <td>경로명이 정규식 패턴과 일치함</td>
    </tr>
    <tr>
      <td><code>-inum n</code></td>
      <td><code>-inum 1001</code></td>
      <td>n번 inode에 해당 (하드 링크 검색)</td>
    </tr>
    <tr>
      <td><code>-samefile name</code></td>
      <td><code>-samefile foo</code></td>
      <td>이름이 foo인 파일과 inode가 같음</td>
    </tr>
    <tr>
      <td><code>-empty</code></td>
      <td><code>-empty</code></td>
      <td>비어 있음</td>
    </tr>
    <tr>
      <td><code>-mmin n</code></td>
      <td><code>-mmin -10</code></td>
      <td>n분 전에 내용 변경</td>
    </tr>
    <tr>
      <td><code>-cmin n</code></td>
      <td><code>-cmin +10</code></td>
      <td>n분 전에 내용/속성 변경</td>
    </tr>
    <tr>
      <td><code>-mtime n</code></td>
      <td><code>-mtime 3</code></td>
      <td>n*24시간 전에 내용 변경</td>
    </tr>
    <tr>
      <td><code>-ctime n</code></td>
      <td><code>-ctime 3</code></td>
      <td>n*24시간 전에 내용/속성 변경</td>
    </tr>
    <tr>
      <td><code>-newer file</code></td>
      <td><code>-newer foo</code></td>
      <td>file보다 나중에 내용 변경</td>
    </tr>
    <tr>
      <td><code>-cnewer file</code></td>
      <td><code>-cnewer foo</code></td>
      <td>file보다 나중에 내용/속성 변경</td>
    </tr>
    <tr>
      <td><code>-user name</code></td>
      <td><code>-user foo</code></td>
      <td>name 사용자에 속함</td>
    </tr>
    <tr>
      <td><code>-group name</code></td>
      <td><code>-group bar</code></td>
      <td>name 그룹에 속함</td>
    </tr>
    <tr>
      <td><code>-nouser</code></td>
      <td><code>-nouser</code></td>
      <td>유효한 사용자에 속하지 않음 (삭제된 계정 등)</td>
    </tr>
    <tr>
      <td><code>-nogroup</code></td>
      <td><code>-nogroup</code></td>
      <td>유효한 그룹에 속하지 않음</td>
    </tr>
    <tr>
      <td><code>-perm mode</code></td>
      <td><code>-perm 755</code></td>
      <td>권한이 mode와 같음</td>
    </tr>
  </tbody>
</table>

<ul>
  <li>시간을 나타내는 인자에는 <code>+</code> 또는 <code>-</code>를 넣어, n 이후 또는 n 이전의 의미를 나타낼 수 있다.</li>
  <li>크기를 나타내는 인자에는 <code>+</code> 또는 <code>-</code>를 넣어, n 이상 또는 n 이하의 의미를 나타낼 수 있다.</li>
</ul>

<h4 id="find---1">find 연산자 옵션</h4>

<p>다음 연산자로 검색 옵션을 조합하는 방법을 지정한다. (lazy 평가)</p>

<table>
  <thead>
    <tr>
      <th>연산자</th>
      <th>약어</th>
      <th>설명</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>-and</code></td>
      <td><code>-a</code></td>
      <td>and 연산 (기본값이므로 생략 가능)</td>
    </tr>
    <tr>
      <td><code>-or</code></td>
      <td><code>-o</code></td>
      <td>or 연산</td>
    </tr>
    <tr>
      <td><code>-not</code></td>
      <td><code>-!</code></td>
      <td>not 연산</td>
    </tr>
    <tr>
      <td><code>\(</code>, <code>\)</code></td>
      <td> </td>
      <td>우선순위 지정, 조건 그룹화</td>
    </tr>
  </tbody>
</table>

<p>예) <code>find ~ \( -type f -not -perm 0600 \) -o \( -type d -not -perm 0700 \)</code></p>

<p>~경로에서 권한이 0600이 아닌 파일 또는 권한이 0700이 아닌 디렉토리 검색</p>

<h4 id="find---2">find 액션 옵션</h4>

<p>find 액션 옵션으로 다음과 같은 액션을 지정할 수 있다.</p>

<table>
  <thead>
    <tr>
      <th>액션</th>
      <th>의미</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>-print</code></td>
      <td>넘겨받은 파일들의 전체 경로명을 표준 출력 (기본 액션)</td>
    </tr>
    <tr>
      <td><code>-ls</code></td>
      <td>넘겨받은 파일들을 <code>ls -dils</code> 표준 출력</td>
    </tr>
    <tr>
      <td><code>-delete</code></td>
      <td>넘겨받은 파일들을 삭제</td>
    </tr>
    <tr>
      <td><code>-quit</code></td>
      <td>넘겨받은 파일이 하나라도 있을 경우 검색 종료</td>
    </tr>
    <tr>
      <td><code>-exec command '{}' ';'</code></td>
      <td>넘겨받은 파일들에 command 명령을 실행</td>
    </tr>
    <tr>
      <td><code>-ok command '{}' ';'</code></td>
      <td>넘겨받은 파일들에 command 명령을 실행 (실행여부 확인)</td>
    </tr>
  </tbody>
</table>

<ul>
  <li>특정 조건으로 검색된 파일에 대해 액션을 지정하려면 <code>옵션 -and 액션</code>으로 지정 (<code>-and</code>는 생략 가능)</li>
</ul>

<p>검색된 파일에 명령을 각각 실행하는 것이 아니라, 파일 전체에 한 명령을 넘기려면 다음 중 한 방법을 쓰면 된다.</p>

<ul>
  <li><code>find 기능</code>: <code>find [...] -exec command '{}' +</code></li>
  <li><code>xargs</code>에 표준 출력 전달: <code>find [...] -print | xargs command [params]</code></li>
</ul>

<h4 id="find---3">find 기타 옵션</h4>

<p>find 액션 옵션으로 다음과 같은 액션을 지정할 수 있다.</p>

<table>
  <thead>
    <tr>
      <th>액션</th>
      <th>의미</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>-depth</code></td>
      <td>디렉토리보다 디렉토리내 파일에 우선 실행 (<code>-delete</code>는 자동 적용)</td>
    </tr>
    <tr>
      <td><code>-maxdepth levels</code></td>
      <td>최대 탐색 깊이</td>
    </tr>
    <tr>
      <td><code>-mindepth levels</code></td>
      <td>최소 탐색 깊이</td>
    </tr>
    <tr>
      <td><code>-mount</code></td>
      <td>다른 파일시스템에 마운트도된 디렉토리 제외</td>
    </tr>
    <tr>
      <td><code>-noleaf</code></td>
      <td>UNIX용 find 최적화 사용 안함 (DOS/Windows, CD-ROM 등)</td>
    </tr>
  </tbody>
</table>

<h3 id="grep">grep</h3>

<p>사용법</p>

<table>
  <thead>
    <tr>
      <th>정규표현식 종류</th>
      <th>명령</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Posix 기본 정규표현식</td>
      <td><code>grep [options] regex [file...]</code></td>
    </tr>
    <tr>
      <td>확장 정규표현식</td>
      <td><code>grep [options] -E regex [file...]</code></td>
    </tr>
    <tr>
      <td>확장 정규표현식</td>
      <td><code>egrep [options] regex [file...]</code></td>
    </tr>
  </tbody>
</table>

<h4 id="grep-">grep 옵션</h4>

<table>
  <thead>
    <tr>
      <th>옵션</th>
      <th>설명</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>-i</code></td>
      <td>대소문자 구별 안함</td>
    </tr>
    <tr>
      <td><code>-v</code></td>
      <td>반전 매치</td>
    </tr>
    <tr>
      <td><code>-c</code></td>
      <td>일치한 행의 수 출력</td>
    </tr>
    <tr>
      <td><code>-l</code></td>
      <td>일치한 행을 포함한 파일의 이름 출력</td>
    </tr>
    <tr>
      <td><code>-L</code></td>
      <td>일치한 행이 없는 파일의 이름 출력</td>
    </tr>
    <tr>
      <td><code>-n</code></td>
      <td>일치한 행 앞에 행 번호 표시</td>
    </tr>
    <tr>
      <td><code>-h</code></td>
      <td>파일명 출력 숨김</td>
    </tr>
  </tbody>
</table>

<h2 id="section-25">파일 관리</h2>

<ul>
  <li><code>touch</code>: 파일 생성 / 파일 수정시간 갱신</li>
  <li><code>stat</code>: 파일 메타 데이터 출력</li>
</ul>

<h2 id="section-26">파일 압축</h2>

<ul>
  <li><code>gzip</code>: <code>.gz</code> 압축</li>
  <li><code>gunzip</code>: <code>.gz</code> 압축 해제</li>
  <li><code>bzip2</code>: <code>.bz2</code> 압축 (블록 단위 고성능 압축)</li>
  <li><code>bunzip2</code>: <code>.bz2</code> 압축 해제</li>
  <li><code>zip</code>: <code>.zip</code> 압축 (비 UNIX 파일 압축)</li>
  <li><code>unzip</code>: <code>.zip</code> 압축 해제</li>
  <li><code>tar</code>: 테이프 아카이브</li>
</ul>

<h3 id="gzip">gzip</h3>

<h4 id="gzip-">gzip 옵션</h4>

<table>
  <thead>
    <tr>
      <th>옵션</th>
      <th>설명</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>-c</code></td>
      <td>압축 결과를 표준 출력에 씀. 원본 파일 유지</td>
    </tr>
    <tr>
      <td><code>-d</code></td>
      <td>압축 해제 (<code>gunzip</code>과 동일)</td>
    </tr>
    <tr>
      <td><code>-f</code></td>
      <td>압축 파일이 이미 존재해도 압축을 실행</td>
    </tr>
    <tr>
      <td><code>-h</code></td>
      <td>도움말</td>
    </tr>
    <tr>
      <td><code>-l</code></td>
      <td>압축 파일별로 압축 정보 표시</td>
    </tr>
    <tr>
      <td><code>-r</code></td>
      <td>디렉토리 내 순환 압축</td>
    </tr>
    <tr>
      <td><code>-t</code></td>
      <td>무결성 검사</td>
    </tr>
    <tr>
      <td><code>-v</code></td>
      <td>압축 과정 자세히 표시</td>
    </tr>
    <tr>
      <td><code>-1</code> ~ <code>-9</code></td>
      <td>압축률 설정. 기본값은 <code>-6</code></td>
    </tr>
    <tr>
      <td><code>--fast</code></td>
      <td><code>-1</code>와 동일</td>
    </tr>
    <tr>
      <td><code>--best</code></td>
      <td><code>-9</code>와 동일</td>
    </tr>
  </tbody>
</table>

<h4 id="gzip--">gzip 관련 유틸리티</h4>

<ul>
  <li><code>zcat</code>: <code>gunzip -c file</code> (<code>.gz</code> 압축 해제 결과를 표준 출력으로 보냄)</li>
  <li><code>zless</code>: <code>zcat file | less</code> (<code>.gz</code> 압축 해제 결과를 표준 출력으로 보내고 <code>less</code>)</li>
</ul>

<h3 id="bzip2">bzip2</h3>

<h4 id="bzip2--">bzip2 관련 유틸리티</h4>

<ul>
  <li><code>bzcat</code>: <code>bunzip2 -c file</code> (<code>.bz2</code> 압축 해제 결과를 표준 출력으로 보냄)</li>
  <li><code>bzip2recover</code>: 손상된 <code>.bz2</code> 파일 복구</li>
</ul>

<h3 id="tar">tar</h3>

<h4 id="tar-">tar 옵션</h4>

<table>
  <thead>
    <tr>
      <th>옵션</th>
      <th>설명</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>f name</code></td>
      <td>아카이브 이름 지정</td>
    </tr>
    <tr>
      <td><code>c</code></td>
      <td>아카이브 생성</td>
    </tr>
    <tr>
      <td><code>x</code></td>
      <td>아카이브 해제</td>
    </tr>
    <tr>
      <td><code>r</code></td>
      <td>아카이브 추가</td>
    </tr>
    <tr>
      <td><code>t</code></td>
      <td>아카이브 내용 보기</td>
    </tr>
    <tr>
      <td><code>z</code></td>
      <td>gzip으로 압축 (GNU tar 최신버전)</td>
    </tr>
    <tr>
      <td><code>j</code></td>
      <td>bzip2로 압축 (GNU tar 최신버전)</td>
    </tr>
  </tbody>
</table>

<p><code>tar</code> 옵션에는 <code>-</code>를 붙이지 않는다.</p>

<p>예)</p>

<ul>
  <li><code>tar cf files.tar .</code>: 현재 디렉토리를 files.tar로 묶기</li>
  <li><code>tar xf files.tar .</code>: 현재 디렉토리에 files.tar를 풀기</li>
  <li><code>tar tf files.tar</code>: files.tar 아카이브 내용 보기</li>
  <li><code>tar tvf files.tar</code>: files.tar 아카이브 내용 자세히 보기</li>
</ul>

<h4 id="tar------">tar 아카이브 생성시 파일 스트림 지정 옵션</h4>

<table>
  <thead>
    <tr>
      <th>옵션</th>
      <th>설명</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>--files-from=file</code></td>
      <td>입력 스트림 지정</td>
    </tr>
    <tr>
      <td><code>--files-from=-</code></td>
      <td>입력 스트림을 표준 입력으로 지정</td>
    </tr>
    <tr>
      <td><code>f file</code></td>
      <td>출력 스트림 지정</td>
    </tr>
    <tr>
      <td><code>f -</code></td>
      <td>출력 스트림을 표준 출력으로 지정</td>
    </tr>
  </tbody>
</table>

<p>파일 스트림에 <code>-</code>를 지정하면 표준 입출력으로 지정한다.</p>

<p>예)</p>

<ul>
  <li><code>find src -name '*.c' | tar czf src.tar.gz -T -</code>: src 디렉토리의 *.src를 src.tar.gz로 압축</li>
  <li><code>find src -name '*.c' | tar cjf src.tar.bz2 -T -</code>: src 디렉토리의 *.src를 src.tar.bz2로 압축</li>
</ul>

<h3 id="section-27">파일 동기화</h3>

<ul>
  <li><code>rsync</code>: 원격 동기화</li>
</ul>

<h2 id="section-28">텍스트 조작</h2>

<ul>
  <li><code>cat</code>: 파일과 표준 출력을 연결</li>
  <li><code>sort</code>: 행 단위 정렬</li>
  <li><code>uniq</code>: 중복 행 제거</li>
  <li><code>cut</code>: 각 행의 부분 자르기</li>
  <li><code>paste</code>: 각 행의 부분 합치기</li>
  <li><code>join</code>: 공통 필드로 행 합치기 (RDB 관련 작업)</li>
  <li><code>comm</code>: 두 파일의 유일 행, 공통 행 비교 출력</li>
  <li><code>diff</code>: 두 파일을 행 단위 비교 (Git와 유사)</li>
  <li><code>patch</code>: diff 파일로 원본에 패치 (Git와 유사)</li>
  <li><code>tr</code>: 문자 집합 치환</li>
  <li><code>sed</code>: 텍스트 필터링, 치환 (Vim의 치환과 유사)</li>
  <li><code>aspell</code>: 맞춤법 검사</li>
  <li><code>expand</code>: 탭을 스페이스로 치환</li>
  <li><code>unexpand</code> 스페이스를 탭으로 치환</li>
</ul>

<h3 id="cat">cat</h3>

<h4 id="cat-">cat 옵션</h4>

<table>
  <thead>
    <tr>
      <th>옵션</th>
      <th>설명</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>-A</code></td>
      <td>비출력 문자 표시</td>
    </tr>
    <tr>
      <td><code>-n</code></td>
      <td>줄 번호 표시</td>
    </tr>
    <tr>
      <td><code>-s</code></td>
      <td>공백 줄 제거</td>
    </tr>
  </tbody>
</table>

<h3 id="sort">sort</h3>

<h4 id="sort-">sort 옵션</h4>

<table>
  <thead>
    <tr>
      <th>옵션</th>
      <th>Long 옵션</th>
      <th>설명</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>-b</code></td>
      <td><code>--ignore-leading-blanks</code></td>
      <td>행 앞부분의 공백 문자 무시하고 비교</td>
    </tr>
    <tr>
      <td><code>-f</code></td>
      <td><code>--ignore-case</code></td>
      <td>대소문자 구분 무시</td>
    </tr>
    <tr>
      <td><code>-n</code></td>
      <td><code>--numeric-sort</code></td>
      <td>수치를 기준으로 정렬</td>
    </tr>
    <tr>
      <td><code>-r</code></td>
      <td><code>--reverse</code></td>
      <td>역순 정렬</td>
    </tr>
    <tr>
      <td><code>-k</code></td>
      <td><code>--key= field1[,field2]</code></td>
      <td>키 필드로 지정된 field1 ~ field2를 기준으로 정렬</td>
    </tr>
    <tr>
      <td><code>-m</code></td>
      <td><code>--merge</code></td>
      <td>정렬된 파일들을 다시 섞지 않고 묶어서 정렬하여 합침</td>
    </tr>
    <tr>
      <td><code>-o</code></td>
      <td><code>--output= file</code></td>
      <td>결과를 표준 출력이 아닌 file로 보냄</td>
    </tr>
    <tr>
      <td><code>-t</code></td>
      <td><code>--field-separator= char</code></td>
      <td>필드 구분 문자 정의 (기본값: 스페이스, 탭)</td>
    </tr>
  </tbody>
</table>

<h4 id="sort---">sort 복수 키 지정</h4>

<ul>
  <li>정렬을 위한 복수 키를 지정할 수 있다.</li>
  <li>정렬 방식을 나타내는 문자 옵션(<code>-b</code>, <code>-n</code>, <code>-r</code> 등)은 키 지정자 끝에 포함될 수 있다.</li>
</ul>

<p>예)</p>

<p><code>sort -k 1,1 -k 2n</code></p>

<h3 id="uniq">uniq</h3>

<h4 id="uniq-">uniq 옵션</h4>

<table>
  <thead>
    <tr>
      <th>옵션</th>
      <th>설명</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>-u</code></td>
      <td>유일한 행 출력 (기본값)</td>
    </tr>
    <tr>
      <td><code>-d</code></td>
      <td>중복된 행 출력</td>
    </tr>
    <tr>
      <td><code>-c</code></td>
      <td>중복 발생 횟수, 중복 행 목록 출력</td>
    </tr>
    <tr>
      <td><code>-i</code></td>
      <td>대소문자 구별 무시</td>
    </tr>
    <tr>
      <td><code>-f n</code></td>
      <td>각 행에서 n개 필드까지 무시하고 비교 (필드 구분자 지정 불가)</td>
    </tr>
    <tr>
      <td><code>-s n</code></td>
      <td>각 행에서 n개 문자까지 무시하고 비교</td>
    </tr>
  </tbody>
</table>

<h3 id="cut">cut</h3>

<p>행에서 텍스트 일부를 추출해 표준 출력으로 출력</p>

<h4 id="cut-">cut 옵션</h4>

<table>
  <thead>
    <tr>
      <th>옵션</th>
      <th>설명</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>-c char_list</code></td>
      <td>char_list 정의 영역 추출 (콤마로 구분된 숫자 범위)</td>
    </tr>
    <tr>
      <td><code>-f field_list</code></td>
      <td>field_list 정의 필드 추출 (필드 또는 콤마로 구분된 필드 범위)</td>
    </tr>
    <tr>
      <td><code>-d delim_char</code></td>
      <td>delim_char를 필드 구분자로 사용 (기본값: 탭)</td>
    </tr>
    <tr>
      <td><code>--complement</code></td>
      <td><code>-c</code> 또는 <code>-f</code>로 지정된 영역을 제외한 모든 부분을 추출</td>
    </tr>
  </tbody>
</table>

<h3 id="diff">diff</h3>

<ul>
  <li>소스코드 디렉토리에서 변경 사항을 재귀적으로 확인</li>
  <li>diff 파일을 만들고 패치를 생성</li>
</ul>

<h4 id="diff-">diff 옵션</h4>

<table>
  <thead>
    <tr>
      <th>방식</th>
      <th>옵션</th>
      <th>예</th>
      <th>추가 / 변경 / 삭제</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>기본</td>
      <td> </td>
      <td><code>diff f1 f2</code></td>
      <td><code>r1ar2</code> / <code>r1cr2</code> / <code>r1dr2</code></td>
    </tr>
    <tr>
      <td>문백 방식</td>
      <td>-c</td>
      <td><code>diff -c f1 f2</code></td>
      <td><code>+</code> / <code>!</code> / <code>-</code></td>
    </tr>
    <tr>
      <td>통합 방식</td>
      <td>-u</td>
      <td><code>diff -u f1 f2</code></td>
      <td><code>+</code> / / <code>-</code></td>
    </tr>
  </tbody>
</table>

<h4 id="diff---patch-">diff 파일 생성하기 (patch 용)</h4>

<ul>
  <li>생성: <code>diff -Naur old-file new-file &gt; diff-file</code></li>
  <li>패치: <code>patch diff-file</code></li>
</ul>

<h3 id="tr">tr</h3>

<h4 id="rot13">ROT13</h4>

<ul>
  <li><code>tr a-zA-Z n-za-mN-ZA-M</code></li>
</ul>

<h4 id="section-29">연속문자 제거</h4>

<ul>
  <li><code>tr -s a-z</code>: 연속되는 a-z를 제거</li>
</ul>

<h3 id="sed-stream-editor">sed (stream editor)</h3>

<h4 id="sed--">sed 주소 표기법</h4>

<table>
  <thead>
    <tr>
      <th>주소</th>
      <th>설명</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>n</code></td>
      <td><code>n</code> 번째 행</td>
    </tr>
    <tr>
      <td><code>$</code></td>
      <td>마지막 행</td>
    </tr>
    <tr>
      <td><code>/regexp/</code></td>
      <td>POSIX 기본 정규식과 일치하는 행들</td>
    </tr>
    <tr>
      <td><code>addr1, addr2</code></td>
      <td><code>aadr</code> ~ <code>addr2</code> 범위의 행들</td>
    </tr>
    <tr>
      <td><code>first~ step</code></td>
      <td><code>first</code> 일치 행과 그 후 <code>step</code> 간격마다 모든 행</td>
    </tr>
    <tr>
      <td><code>addr1,+n</code></td>
      <td><code>addr1</code> 일치 행과 다음 n개의 행</td>
    </tr>
    <tr>
      <td><code>addr!</code></td>
      <td><code>addr</code>을 제외한 모든 행</td>
    </tr>
  </tbody>
</table>

<h4 id="sed---">sed 기본 편집 명령어</h4>

<table>
  <thead>
    <tr>
      <th>명령어</th>
      <th>설명</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>=</code></td>
      <td>현재 행번호 출력</td>
    </tr>
    <tr>
      <td><code>a</code></td>
      <td>현재 행 뒤에 텍스트 추가</td>
    </tr>
    <tr>
      <td><code>d</code></td>
      <td>현재 행 삭제</td>
    </tr>
    <tr>
      <td><code>i</code></td>
      <td>현재 행 앞에 텍스트 삽입</td>
    </tr>
    <tr>
      <td><code>p</code></td>
      <td>현재 행 출력</td>
    </tr>
    <tr>
      <td><code>q</code></td>
      <td>더이상 처리할 행이 없으면 종료</td>
    </tr>
    <tr>
      <td><code>Q</code></td>
      <td>더이상 처리할 행이 없으면 종료</td>
    </tr>
    <tr>
      <td><code>s/regexp/replace</code></td>
      <td><code>regexp</code>와 일치하는 부분을 <code>replace</code>로 치환</td>
    </tr>
    <tr>
      <td><code>y/set1/set2</code></td>
      <td><code>set1</code>의 문자를 <code>set2</code>의 문자로 치환</td>
    </tr>
  </tbody>
</table>

<h4 id="sed-">sed 옵션</h4>

<table>
  <thead>
    <tr>
      <th>옵션</th>
      <th>설명</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>-i</td>
      <td>파일 내 수정</td>
    </tr>
  </tbody>
</table>

<h2 id="section-30">텍스트 출력 포맷</h2>

<ul>
  <li><code>nl</code>: 줄 번호 매기기</li>
  <li><code>fold</code>: 각 줄을 지정된 길이로 나누기</li>
  <li><code>fmt</code>: 포맷 지정</li>
  <li><code>pr</code>: 인쇄용 포맷 지정</li>
  <li><code>printf</code>: 출력 및 포맷 지정</li>
  <li><code>groff</code>: 문서 포맷 시스템</li>
</ul>

<h2 id="section-31">컴파일</h2>

<h3 id="c---">일반적인 c 프로젝트 컴파일 과정</h3>

<ol>
  <li><code>./configure</code></li>
  <li><code>make</code></li>
  <li><code>sudo make install</code></li>
</ol>

<h3 id="objdump---">objdump - 디스어셈블</h3>

<p><code>objdump -d obj</code></p>

<h2 id="section-32">쉘 스크립트</h2>

<h3 id="section-33">쉘 스크립트 작성 과정</h3>

<ol>
  <li>스크립트 작성</li>
  <li>실행 권한 설정</li>
  <li>실행 경로에 저장</li>
</ol>

<h3 id="section-34">스크립트 파일 헤더</h3>

<pre><code>#!/bin/bash
</code></pre>

<p>스크립트를 실행할 인터프리터의 경로를 지정함</p>

<h3 id="section-35">스크립트 저장 위치</h3>

<p>다음 위치는 적합하다.</p>

<ul>
  <li><code>~/bin</code>: 개인 사용자용 실행 파일</li>
  <li><code>/usr/local</code>: 전체 사용자용</li>
  <li><code>/usr/local/bin</code>: 전체 사용자용 실행 파일</li>
  <li><code>/usr/local/sbin</code>: 시스템 관리자용 실행 파일</li>
</ul>

<p>다음 위치는 부적합하다. 리눅스 배포자가 제공하고 관리하는 파일을 저장하는 곳이기 떄문이다.</p>

<ul>
  <li><code>/bin</code></li>
  <li><code>/usr/bin</code></li>
</ul>

<h3 id="here-">Here 문서</h3>

<p>아래와 같은 형식으로 스크립트 파일의 텍스트 본문을 표준 입력으로 보냄.</p>

<pre><code>#!/bin/bash

cat &lt;&lt; _EOF_
Text to
put into
stdin
here.
_EOF_
</code></pre>

<h3 id="section-36">쉘 함수</h3>

<p>다음과 같은 형식으로 생성</p>

<pre><code>function name {
  commands
  return
}

name () {
  commands
  return
}
</code></pre>

<p>두 형식의 결과는 동일하다.</p>

<h3 id="section-37">지역 변수</h3>

<p>쉘 함수 안에서 다음과 같이 선언한다.</p>

<pre><code>local foo
foo=1
</code></pre>

<h3 id="exit-status">종료 상태 (exit status)</h3>

<ul>
  <li>0 ~ 255 사이의 값.</li>
  <li>일반적으로 0은 성공, 그 외의 값은 실패를 나타냄.</li>
  <li>프로그램 종료시 쉘 변수 <code>$?</code>에 저장</li>
  <li><code>exit n</code>: n값을 exit status로 반환하며 스크립트 종료. (<code>n</code>의 기본값은 0)</li>
</ul>

<p>관련 프로그램</p>

<ul>
  <li><code>true</code>: exit status 0을 반환하는 프로그램</li>
  <li><code>false</code>: exit status 1을 반환하는 프로그램</li>
  <li><code>test expression</code>: <code>expression</code>이 참이면 0, 거짓이면 1의 종료 상태를 반환하는 프로그램</li>
</ul>

<h3 id="section-38">분기</h3>

<h4 id="if">if</h4>

<p>다음과 같은 구문으로 분기</p>

<pre><code>if condition; then
  commands
[elif condition; then
  commands...]
[else
  commands]
fi
</code></pre>

<h4 id="case">case</h4>

<pre><code>case word in
  [pattern [| pattern]...) commands ;;]...
esac
</code></pre>

<h4 id="if--test----">if 또는 test에서 사용할 수 있는 조건식</h4>

<h5 id="section-39">파일 표현식</h5>

<table>
  <thead>
    <tr>
      <th>표현식</th>
      <th>의미</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>file1 -ef file2</code></td>
      <td><code>file1</code>과 <code>file2</code>는 동일한 inode 번호를 가진다.</td>
    </tr>
    <tr>
      <td><code>file1 -nt file2</code></td>
      <td><code>file1</code>은 <code>file2</code>보다 최신이다.</td>
    </tr>
    <tr>
      <td><code>file1 -ot file2</code></td>
      <td><code>file1</code>은 <code>file2</code>보다 오래됐다.</td>
    </tr>
    <tr>
      <td><code>-e file</code></td>
      <td><code>file</code>이 존재한다.</td>
    </tr>
    <tr>
      <td><code>-f file</code></td>
      <td><code>file</code>이 존재하고, 이 파일은 일반 파일이다.</td>
    </tr>
    <tr>
      <td><code>-d file</code></td>
      <td><code>file</code>이 존재하고, 이 파일은 디렉토리다.</td>
    </tr>
    <tr>
      <td><code>-L file</code></td>
      <td><code>file</code>이 존재하고, 이 파일은 심볼릭 링크다.</td>
    </tr>
    <tr>
      <td><code>-b file</code></td>
      <td><code>file</code>이 존재하고, 이 파일은 블록 특수 파일이다.</td>
    </tr>
    <tr>
      <td><code>-c file</code></td>
      <td><code>file</code>이 존재하고, 이 파일은 문자 특수 파일이다.</td>
    </tr>
    <tr>
      <td><code>-s file</code></td>
      <td><code>file</code>이 존재하고, 이 파일은 크기가 0보다 크다.</td>
    </tr>
    <tr>
      <td><code>-u file</code></td>
      <td><code>file</code>이 존재하고, 이 파일은 setuid가 설정되어 있다.</td>
    </tr>
    <tr>
      <td><code>-g file</code></td>
      <td><code>file</code>이 존재하고, 이 파일은 setgid가 설정되어 있다.</td>
    </tr>
    <tr>
      <td><code>-G file</code></td>
      <td><code>file</code>이 존재하고, 이 파일은 유효 그룹 ID의 소유다.</td>
    </tr>
    <tr>
      <td><code>-r file</code></td>
      <td><code>file</code>이 존재하고, 이 파일은 읽기가 가능하다.</td>
    </tr>
    <tr>
      <td><code>-w file</code></td>
      <td><code>file</code>이 존재하고, 이 파일은 쓰기가 가능하다.</td>
    </tr>
    <tr>
      <td><code>-x file</code></td>
      <td><code>file</code>이 존재하고, 이 파일은 실행이 가능하다.</td>
    </tr>
    <tr>
      <td><code>-k file</code></td>
      <td><code>file</code>이 존재하고, 이 파일은 sticky bit를 가지고 있다.</td>
    </tr>
    <tr>
      <td><code>-O file</code></td>
      <td><code>file</code>이 존재하고, 이 파일은 유효 사용자 ID의 소유다.</td>
    </tr>
    <tr>
      <td><code>-p file</code></td>
      <td><code>file</code>이 존재하고, 이 파일은 네임드 파이프다.</td>
    </tr>
    <tr>
      <td><code>-S file</code></td>
      <td><code>file</code>이 존재하고, 이 파일은 네트워크 소켓이다.</td>
    </tr>
    <tr>
      <td><code>-t fd</code></td>
      <td><code>fd</code>는 터미널이 지정된 파일 디스크립터다. (표준 입력/출력/오류의 재지정 여부 확인)</td>
    </tr>
  </tbody>
</table>

<h5 id="section-40">문자열 표현식</h5>

<table>
  <thead>
    <tr>
      <th>표현식</th>
      <th>의미</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>string</code></td>
      <td><code>string</code>은 <code>null</code>이 아니다.</td>
    </tr>
    <tr>
      <td><code>-n string</code></td>
      <td><code>string</code>의 길이는 0보다 크다.</td>
    </tr>
    <tr>
      <td><code>-z string</code></td>
      <td><code>string</code>의 길이는 0이다.</td>
    </tr>
    <tr>
      <td><code>string1 == string2</code></td>
      <td><code>string1</code>과 <code>string2</code>는 같다.</td>
    </tr>
    <tr>
      <td><code>string1 != string2</code></td>
      <td><code>string1</code>과 <code>string2</code>는 다르다.</td>
    </tr>
    <tr>
      <td><code>string1 &lt; string2</code></td>
      <td><code>string1</code>은 <code>string2</code>보다 앞에 정렬된다.</td>
    </tr>
    <tr>
      <td><code>string1 &gt; string2</code></td>
      <td><code>string1</code>은 <code>string2</code>보다 뒤에 정렬된다.</td>
    </tr>
  </tbody>
</table>

<h5 id="section-41">정수 표현식</h5>

<table>
  <thead>
    <tr>
      <th>표현식</th>
      <th>의미</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>int1 -eq int2</code></td>
      <td><code>int1</code>은 <code>int2</code>와 같다.</td>
    </tr>
    <tr>
      <td><code>int1 -ne int2</code></td>
      <td><code>int1</code>은 <code>int2</code>와 다르다.</td>
    </tr>
    <tr>
      <td><code>int1 -lt int2</code></td>
      <td><code>int1</code>은 <code>int2</code>보다 작다.</td>
    </tr>
    <tr>
      <td><code>int1 -le int2</code></td>
      <td><code>int1</code>은 <code>int2</code>보다 작거나 같다.</td>
    </tr>
    <tr>
      <td><code>int1 -gt int2</code></td>
      <td><code>int1</code>은 <code>int2</code>보다 크다.</td>
    </tr>
    <tr>
      <td><code>int1 -ge int2</code></td>
      <td><code>int1</code>은 <code>int2</code>보다 크거나 같다.</td>
    </tr>
  </tbody>
</table>

<h3 id="section-42">현대식 테스트</h3>

<p>bash는 다음과 같은 구문을 지원한다.</p>

<h4 id="section-43">[[ ]]</h4>

<pre><code>[[ expression ]]
</code></pre>

<p><code>expression</code>에는 참/거짓을 판단하는 표현식을 입력한다. <code>[[ ]]</code>명령식은 <code>test</code>의 모든 표현식을 지원하고, 다음 문자열 표현식을 추가로 지원한다.</p>

<pre><code>string1 =~ regex
</code></pre>

<p>이 표현식은 <code>string1</code>이 확장 정규 표현식인 <code>regex</code>에 부합하면 참을 반환한다.</p>

<p>예) N이 정수인지 확인</p>

<pre><code>if [[ "$N" =~ ^-?[0-9]+$ ]]; then
  echo "$N is integer."
else
  echo "$N is not integer."
fi
</code></pre>

<p>또, <code>[[ ]]</code> 명령식은 <code>==</code> 연산자가 경로명 확장과 같은 방식의 패턴 찾기를 수행하도록 지원한다.</p>

<h4 id="section-44">(( )) - 정수 테스트</h4>

<p>산술식의 참 여부를 검사함: 산술식의 결과가 0이면 거짓, 0이 아니면 참을 반환.</p>

<h4 id="section-45">표현식 조합</h4>

<table>
  <thead>
    <tr>
      <th>논리 연산</th>
      <th>test</th>
      <th>[[ ]], (( ))</th>
      <th> </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>AND</td>
      <td>-a</td>
      <td>&amp;&amp;</td>
      <td> </td>
    </tr>
    <tr>
      <td>OR</td>
      <td>-o</td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td>NOT</td>
      <td>!</td>
      <td>!</td>
      <td> </td>
    </tr>
  </tbody>
</table>

<h3 id="read">read</h3>

<p>다음 명령으로 표준 입력에서 값을 읽어온다.</p>

<pre><code>read [-options] [variable...]
</code></pre>

<h4 id="section-46">매개변수 개수</h4>

<ul>
  <li>매개변수가 지정되지 않았을 때: REPLY 환경 변수에 값이 저장됨</li>
  <li>매개변수보다 많은 개수의 입력이 주어졌을 때: 마지막 매개변수에 나머지 값이 모두 저장됨</li>
  <li>매개변수보다 적은 개수의 입력이 주어졌을 때: 나머지 매개변수에는 값이 주어지지 않음</li>
</ul>

<h4 id="read-">read 옵션</h4>

<table>
  <thead>
    <tr>
      <th>옵션</th>
      <th>설명</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>-a array</code></td>
      <td>입력값을 <code>array</code>에 할당. (인덱스 0부터 시작)</td>
    </tr>
    <tr>
      <td><code>-d delimiter</code></td>
      <td>개행 문자 대신 <code>delimiter</code>를 EOF로 사용</td>
    </tr>
    <tr>
      <td><code>-e</code></td>
      <td>Readline을 이용해 입력을 관리</td>
    </tr>
    <tr>
      <td><code>-n num</code></td>
      <td>입력된 행 전체 대신 <code>num</code> 개수만큼의 문자만을 읽음</td>
    </tr>
    <tr>
      <td><code>-p prompt</code></td>
      <td><code>prompt</code>를 입력 프롬프트로 출력</td>
    </tr>
    <tr>
      <td><code>-r</code></td>
      <td>Raw 모드. <code>\</code>를 이스케이프로 인식하지 않음</td>
    </tr>
    <tr>
      <td><code>-s</code></td>
      <td>묵음 모드 (패스워드 등)</td>
    </tr>
    <tr>
      <td><code>-t seconds</code></td>
      <td>입력 시간 제한. 시간 초과시 0이 아닌 종료 상태 반환</td>
    </tr>
    <tr>
      <td><code>-u fd</code></td>
      <td>표준 입력 대신 fd 디스크립터를 입력으로 사용</td>
    </tr>
  </tbody>
</table>

<h4 id="ifs----">IFS(입력 필드 구분자) 변경 기법</h4>

<p><code>IFS</code>는 입력 필드 구분자를 설정하는 환경 변수.</p>

<pre><code>IFS=":" read
</code></pre>

<p>쉘은 명령어가 처리되기 직전에 하나 이상의 변수 할당을 허용한다. 이 할당은 뒤이어 나오는 명령어에 대한 환경을 변화시킨다. 이 변화는 일시적이고 명령어의 지속 시간 동안만 환경을 변경하는 것이다. 위 스크립트의 결과는 아래의 스크립트의 결과와 같다.</p>

<pre><code>OLD_IFS="$IFS"
IFS=":"
read
IFS="$OLD_IFS"
</code></pre>

<h4 id="read--1">read와 파이프라인</h4>

<p>아래와 같이 파이프라인을 통해 read에 표준 입력을 전달할 수는 없다.</p>

<pre><code>echo "foo" | read
</code></pre>

<ul>
  <li>파이프라인은 서브쉘을 생성하며</li>
  <li>서브쉘은 부모 프로세스의 환경을 변경하지 않는다.</li>
  <li>read가 읽어들인 값은 서브쉘 안에서만 존재한다.</li>
  <li>read 종료시점에서 REPLY 값은 존재하지 않게 된다.</li>
</ul>

<p>따라서, 아래와 같이 해야 한다.</p>

<pre><code>read &lt;&lt;&lt; foo
</code></pre>

<p><code>&lt;&lt;&lt; [text...]</code>는 here 문자열이다.</p>

<h3 id="section-47">반복</h3>

<h4 id="for">for</h4>

<p>쉘 형식</p>

<pre><code>for variable [in words]; do
  commands
done
</code></pre>

<ul>
  <li>in words가 생략될 경우, 위치 매개변수를 words로 사용한다.</li>
</ul>

<p>C 형식</p>

<pre><code>for (( expression1; expression2; expression3 )); do
  commands
done
</code></pre>

<h4 id="while">while</h4>

<pre><code>while condition; do
  [commands...]
done
</code></pre>

<h4 id="until">until</h4>

<pre><code>until condition; do
  [commands...]
done
</code></pre>

<h4 id="break">break</h4>

<h4 id="continue">continue</h4>

<h3 id="section-48">위치 매개변수</h3>

<p>커맨드라인 명령어에서 제공된 매개변수를 참조하는 방법.</p>

<h4 id="section-49">변수 참조</h4>

<table>
  <thead>
    <tr>
      <th>변수</th>
      <th>설명</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>$0</code></td>
      <td>실행 프로그램 경로명</td>
    </tr>
    <tr>
      <td><code>$i</code></td>
      <td>i번째 인자의 값 (i는 0~9)</td>
    </tr>
    <tr>
      <td><code>${i}</code></td>
      <td>i번째 인자의 값 (i는 자연수)</td>
    </tr>
    <tr>
      <td><code>$#</code></td>
      <td>인자의 개수</td>
    </tr>
  </tbody>
</table>

<ul>
  <li><code>basename </code>: 경로명의 앞 부분을 제거하고 파일의 기본 이름만을 추출</li>
</ul>

<h4 id="shift">shift</h4>

<p>실행될 때마다 매개변수가 하나씩 다음으로 이동함.</p>

<p>예) 모든 인자값 출력</p>

<pre><code>while [[ #$ -gt 0 ]]; do
  echo "Argument $i = "
  i=$((i + 1))
  shift
done
</code></pre>

<h4 id="section-50">쉘 함수에서의 위치 매개변수</h4>

<p>쉘 함수에 인자를 넘겨 호출할 수 있다.
- <code>$1</code> ~ <code>$n</code>은 함수에 넘겨진 인자의 값을 참조
- <code>$0</code>은 쉘 함수명이 아닌 프로그램명을 참조
- 쉘 함수명 참조: <code>$FUNCNAME</code></p>

<h4 id="section-51">위치 매개변수 전체 전달</h4>

<p>네 가지 방법이 있다.</p>

<ul>
  <li><code>$*</code></li>
  <li><code>$@</code>: i번째 매개변수가 <code>$i</code>로 각각 바인딩된다. 이걸 써라.</li>
  <li><code>"$*"</code></li>
  <li><code>"$@"</code></li>
</ul>

<h3 id="section-52">변수 확장</h3>

<h4 id="section-53">기본</h4>

<table>
  <thead>
    <tr>
      <th>구문</th>
      <th>예</th>
      <th>설명</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>$v</code></td>
      <td><code>$foo</code></td>
      <td><code>v</code>의 값</td>
    </tr>
    <tr>
      <td><code>${v}</code></td>
      <td><code>${foo}</code></td>
      <td><code>v</code>의 값</td>
    </tr>
    <tr>
      <td><code>$n</code></td>
      <td><code>$1</code></td>
      <td>n번째 매개변수의 값</td>
    </tr>
    <tr>
      <td><code>${n}</code></td>
      <td><code>${32}</code></td>
      <td>n번째 매개변수의 값</td>
    </tr>
  </tbody>
</table>

<h4 id="section-54">빈 변수 관련</h4>

<p>변수가 비었는지 아닌지에 따라 처리</p>

<table>
  <thead>
    <tr>
      <th>구문</th>
      <th><code>$v</code> empty</th>
      <th><code>$v</code> value</th>
      <th>설명</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>{$v:-word}</code></td>
      <td><code>$v</code></td>
      <td><code>word</code></td>
      <td><code>v</code>의 값이 없으면 <code>word</code> 반환</td>
    </tr>
    <tr>
      <td><code>{$v:+word}</code></td>
      <td><code>word</code></td>
      <td> </td>
      <td><code>v</code>의 값이 있으면 <code>word</code> 반환</td>
    </tr>
    <tr>
      <td><code>{$v:=word}</code></td>
      <td><code>$v</code></td>
      <td><code>$v=word; word</code></td>
      <td><code>v</code>의 값이 없으면 <code>word</code> 대입하고 반환</td>
    </tr>
    <tr>
      <td><code>{$v:?error-msg}</code></td>
      <td><code>error-msg</code>, error</td>
      <td><code>$v</code></td>
      <td><code>v</code>의 값이 없으면 오류, <code>error-msg</code> 출력</td>
    </tr>
  </tbody>
</table>

<h4 id="section-55">변수명으로 확장</h4>

<p>변수명을 조사, 반환하는 확장</p>

<table>
  <thead>
    <tr>
      <th>구문</th>
      <th>예</th>
      <th>설명</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>${!prefix*}</code></td>
      <td><code>${!BASH*}</code></td>
      <td>이름이 <code>prefix</code>로 시작하는 모든 변수</td>
    </tr>
    <tr>
      <td><code>${!prefix@}</code></td>
      <td><code>${!BASH@}</code></td>
      <td>이름이 <code>prefix</code>로 시작하는 모든 변수</td>
    </tr>
  </tbody>
</table>

<ul>
  <li>위의 두 구문은 동일하게 동작한다.</li>
</ul>

<h4 id="section-56">문자열 연산</h4>

<p>변수에 저장된 문자열을 조작</p>

<table>
  <thead>
    <tr>
      <th>구문</th>
      <th>예</th>
      <th>설명</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>${#v}</code></td>
      <td><code>${#HOME}</code></td>
      <td>문자열 <code>$v</code>의 길이</td>
    </tr>
    <tr>
      <td><code>${v:offset}</code></td>
      <td><code>${HOME:6}</code></td>
      <td>문자열 <code>$v</code>의 <code>offset</code> 이후 추출</td>
    </tr>
    <tr>
      <td><code>${v:offset:length}</code></td>
      <td><code>${HOME:6:3}</code></td>
      <td>문자열 <code>$v</code>의 <code>offset</code> 이후부터 <code>length</code> 길이 추출</td>
    </tr>
    <tr>
      <td><code>${v#pattern}</code></td>
      <td><code>${HOME#*/}</code></td>
      <td>문자열 <code>$v</code>의 <code>pattern</code> 패턴 이후 추출 (게으름 모드)</td>
    </tr>
    <tr>
      <td><code>${v##pattern}</code></td>
      <td><code>${HOME##*/}</code></td>
      <td>문자열 <code>$v</code>의 <code>pattern</code> 패턴 이후 추출 (탐욕 모드)</td>
    </tr>
    <tr>
      <td><code>${v%pattern}</code></td>
      <td><code>${HOME%/*}</code></td>
      <td>문자열 <code>$v</code>의 <code>pattern</code> 패턴 이전 추출 (게으름 모드)</td>
    </tr>
    <tr>
      <td><code>${v%%pattern}</code></td>
      <td><code>${HOME%%/*}</code></td>
      <td>문자열 <code>$v</code>의 <code>pattern</code> 패턴 이전 추출 (탐욕 모드)</td>
    </tr>
    <tr>
      <td><code>${v/pattern/s}</code></td>
      <td><code>${HOME/home/u}</code></td>
      <td>문자열 <code>$v</code>의 첫번째 <code>pattern</code> 일치 항목을 <code>s</code>로 치환</td>
    </tr>
    <tr>
      <td><code>${v//pattern/s}</code></td>
      <td><code>${HOME/home/u}</code></td>
      <td>문자열 <code>$v</code>의 모든 <code>pattern</code> 일치 항목을 <code>s</code>로 치환</td>
    </tr>
    <tr>
      <td><code>${v/#pattern/s}</code></td>
      <td><code>${HOME/#\/home/\~}</code></td>
      <td>문자열 <code>$v</code>의 시작점의 <code>pattern</code> 일치 항목을 <code>s</code>로 치환</td>
    </tr>
    <tr>
      <td><code>${v/%pattern/s}</code></td>
      <td><code>${HOME/%foo\bar}</code></td>
      <td>문자열 <code>$v</code>의 종료점의 <code>pattern</code> 일치 항목을 <code>s</code>로 치환</td>
    </tr>
  </tbody>
</table>

<ul>
  <li><code>${v:offset}</code>, <code>${v:offset:length}</code>에서 <code>offset</code>이 음수이면, 문자열의 뒤에서부터 시작한다. 이 떄, <code>offset</code> 앞에 빈칸을 한 칸 두어야 한다.</li>
  <li><code>${v/pattern/s}</code>, <code>${v//pattern/s}</code>, <code>${v/#pattern/s}</code>, <code>${v/%pattern/s}</code>에서 <code>s</code>를 생략하면, 해당 <code>pattern</code> 일치 항목을 삭제한다.</li>
  <li>문자열 조작 확장은 <code>sed</code>, <code>cut</code> 등의 외부 프로그램보다 처리성능이 좋다.</li>
</ul>

<h3 id="section-57">산술 연산 확장</h3>

<p>아래 구문에 표현식을 넣어 확장한다.</p>

<pre><code>$((expression))
</code></pre>

<h4 id="section-58">기수</h4>

<table>
  <thead>
    <tr>
      <th>표현</th>
      <th>예</th>
      <th>설명</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>n</code></td>
      <td><code>99</code></td>
      <td>10진법 표현</td>
    </tr>
    <tr>
      <td><code>0n</code></td>
      <td><code>0777</code></td>
      <td>8진법 표현</td>
    </tr>
    <tr>
      <td><code>0xn</code></td>
      <td><code>0xff</code></td>
      <td>16진법 표현</td>
    </tr>
    <tr>
      <td><code>base#n</code></td>
      <td><code>2#1111</code></td>
      <td><code>base</code>진법 표현</td>
    </tr>
  </tbody>
</table>

<h4 id="section-59">단항 연산자</h4>

<table>
  <thead>
    <tr>
      <th>연산자</th>
      <th>설명</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>+</code></td>
      <td>덧셈</td>
    </tr>
    <tr>
      <td><code>-</code></td>
      <td>뺄셈</td>
    </tr>
    <tr>
      <td><code>*</code></td>
      <td>곱셈</td>
    </tr>
    <tr>
      <td><code>/</code></td>
      <td>정수 나눗셈</td>
    </tr>
    <tr>
      <td><code>**</code></td>
      <td>거듭제곱</td>
    </tr>
    <tr>
      <td><code>%</code></td>
      <td>나머지</td>
    </tr>
  </tbody>
</table>

<h4 id="section-60">대입</h4>

<table>
  <thead>
    <tr>
      <th>연산자</th>
      <th>설명</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>v = value</code></td>
      <td><code>p</code>에 <code>v</code>대입. <code>[[ a = b ]]</code> 와 혼동 주의</td>
    </tr>
    <tr>
      <td><code>v += value</code></td>
      <td>덧셈 대입</td>
    </tr>
    <tr>
      <td><code>v -= value</code></td>
      <td>뺄셈 대입</td>
    </tr>
    <tr>
      <td><code>v *= value</code></td>
      <td>곱셈 대입</td>
    </tr>
    <tr>
      <td><code>v /= value</code></td>
      <td>나눗셈 대입</td>
    </tr>
    <tr>
      <td><code>v++</code></td>
      <td>후치 증가</td>
    </tr>
    <tr>
      <td><code>v--</code></td>
      <td>후치 감소</td>
    </tr>
    <tr>
      <td><code>++v</code></td>
      <td>전치 증가</td>
    </tr>
    <tr>
      <td><code>--v</code></td>
      <td>전치 감소</td>
    </tr>
  </tbody>
</table>

<h4 id="section-61">비트 연산</h4>

<table>
  <thead>
    <tr>
      <th>연산자</th>
      <th>설명</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>~</code></td>
      <td>비트 NOT. 모든 비트에 부정 연산</td>
    </tr>
    <tr>
      <td><code>&lt;&lt;</code></td>
      <td>비트 시프트. 모든 비트를 좌로 이동</td>
    </tr>
    <tr>
      <td><code>&gt;&gt;</code></td>
      <td>비트 시프트. 모든 비트를 우로 이동</td>
    </tr>
    <tr>
      <td><code>&amp;</code></td>
      <td>비트 AND. 둘 모두가 참</td>
    </tr>
    <tr>
      <td><code>|</code></td>
      <td>비트 OR. 둘 중 하나 이상이 참</td>
    </tr>
    <tr>
      <td><code>^</code></td>
      <td>비트 XOR. 둘 중 하나만 참</td>
    </tr>
  </tbody>
</table>

<ul>
  <li><code>~</code>을 제외한 모든 비트 연산은 그에 상응하는 대입 연산자가 있음. (예: <code>&lt;&lt;=</code>, <code>&amp;=</code> 등)</li>
</ul>

<h4 id="section-62">산술 논리 연산</h4>

<table>
  <thead>
    <tr>
      <th>연산자</th>
      <th>설명</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>&lt;=</code></td>
      <td>보다 작거나 같다</td>
    </tr>
    <tr>
      <td><code>&gt;=</code></td>
      <td>보다 크거나 같다</td>
    </tr>
    <tr>
      <td><code>&lt;</code></td>
      <td>보다 작다</td>
    </tr>
    <tr>
      <td><code>&gt;</code></td>
      <td>보다 크다</td>
    </tr>
    <tr>
      <td><code>==</code></td>
      <td>같다</td>
    </tr>
    <tr>
      <td><code>!=</code></td>
      <td>다르다</td>
    </tr>
    <tr>
      <td><code>&amp;&amp;</code></td>
      <td>논리 AND</td>
    </tr>
    <tr>
      <td><code>||</code></td>
      <td>논리 OR</td>
    </tr>
    <tr>
      <td><code>c? a:b</code></td>
      <td><code>c</code>가 참이면 <code>a</code>, 거짓이면 <code>b</code></td>
    </tr>
  </tbody>
</table>

<ul>
  <li>산술 논리식에서는 0은 거짓, 다른 수는 참이다.</li>
</ul>

<h3 id="section-63">기타 확장</h3>

<table>
  <thead>
    <tr>
      <th>표현</th>
      <th>설명</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>$$</code></td>
      <td>프로세스 ID (PID)</td>
    </tr>
    <tr>
      <td><code>$!</code></td>
      <td>마지막으로 백그라운드에 실행된 작업의 PID</td>
    </tr>
    <tr>
      <td><code>$RANDOM</code></td>
      <td>1 ~ 32767 사이의 난수</td>
    </tr>
  </tbody>
</table>

<h3 id="bash-">bash 배열</h3>

<h4 id="section-64">배열 도움말 보기</h4>

<pre><code>$ man bash -g Arrays
</code></pre>

<h4 id="section-65">배열 생성</h4>

<p>배열 첨자 사용, 대입시 생성</p>

<p>예)</p>

<pre><code>foo[1]=bar
echo ${foo[1]}
</code></pre>

<p><code>declare -a</code>로도 생성 가능</p>

<p>예)</p>

<pre><code>declare -a foo
</code></pre>

<h4 id="section-66">배열에 값 할당</h4>

<p>단일 값 할당</p>

<pre><code>name[subscript]=value
</code></pre>

<p>복수 값 할당</p>

<pre><code>name=( value1 value2 ... )
</code></pre>

<p>첨자 사용 할당</p>

<pre><code>nane=([i1]=value1 [i2]=value2 ...)
</code></pre>

<h4 id="section-67">배열 연산</h4>

<h5 id="section-68">모든 내용 출력</h5>

<ul>
  <li>첨자 <code>*</code>: 배열의 전체 내용을 한 행의 문자열로 반환</li>
  <li>첨자 <code>@</code>: 배열의 전체 내용을 각각의 행의 문자열로 반환 (추천)</li>
</ul>

<p>예)</p>

<pre><code>arr=("a cat" "a dog" "a tiger")
for e in ${arr[*]}; do
  echo $e
done
</code></pre>

<h5 id="section-69">배열 원소 수 확인</h5>

<ul>
  <li><code>${#arr[*]}</code></li>
  <li><code>${#arr[@]}</code></li>
</ul>

<h5 id="section-70">배열에 할당된 첨자 검색</h5>

<ul>
  <li><code>${!array[*]}</code></li>
  <li><code>${!array[@]}</code></li>
</ul>

<h5 id="section-71">배열 끝에 원소 추가</h5>

<ul>
  <li><code>+=</code> 할당 연산자를 배열에 사용</li>
</ul>

<p>예)</p>

<pre><code>arr=(a b c)
arr+=(d e f)
</code></pre>

<h5 id="section-72">배열 정렬</h5>

<ul>
  <li>bash는 지원 안함. 직접 구현할 것.</li>
</ul>

<p>예)</p>

<pre><code>arr=(e f a c b d)
sorted_arr=($(for e in "${arr[@]}"; do echo $e; done | sort))
</code></pre>

<h5 id="section-73">배열 삭제</h5>

<p><code>unset</code> 사용.</p>

<ul>
  <li>배열 전체 삭제: <code>unset arr</code></li>
  <li>배열 원소 삭제: <code>unset arr[subscript]</code></li>
</ul>

<h3 id="section-74">그룹 명령과 서브쉘</h3>

<ul>
  <li>그룹 명령: <code>{ command1; command2; [ command3; ...] }</code></li>
  <li>서브쉘: <code>(command1; command2; [ command3;...])</code></li>
</ul>

<p>그룹 명령은 현재 쉘에서, 서브쉘은 자식 쉘에서 실행됨. 따라서 그룹 명령이 선호됨.</p>

<p>주로 리다이렉션을 조절하기 위해 사용됨.</p>

<p>예)</p>

<pre><code>{ ls -al; ps -ef; } &gt; output1.txt
(ls -al; ps -ef) &gt; output2.txt
</code></pre>

<h3 id="section-75">프로세스 치환</h3>

<ul>
  <li>표준 출력 생성 프로세스: <code>&lt;(command_list)</code></li>
  <li>표준 입력 생성 프로세스: <code>&gt;(command_list)</code></li>
</ul>

<p>예)</p>

<pre><code>read &lt; &lt;(echo "foo")
echo $REPLY
</code></pre>

<h3 id="section-76">트랩</h3>

<p>시그널 처리 등록</p>

<ul>
  <li><code>trap command signal [signal...]</code>: <code>signal</code> 신호를 받았을 때 <code>command</code>를 실행하도록 등록.</li>
</ul>

<h3 id="section-77">임시 파일</h3>

<p>위치</p>

<ul>
  <li>기본적으로 <code>/tep</code> 디렉토리에 생성.</li>
  <li>일반 사용자 실행 스크립트의 경우 <code>/tmp</code> 디렉토리보다 <code>$Home/tmp</code> 추천.</li>
</ul>

<p>예) $HOME/tmp가 없으면 생성.</p>

<pre><code>[[ -d $HOME/tmp ]] || mkdir $HOME/tmp
</code></pre>

<p>temp race attack을 방지하려면, 예측할 수 없는 이름을 만들어야 함.</p>

<ul>
  <li><code>temp=/tmp/$(basename $0).$$.$RANDOM</code>: /tmp/프로그램명.PID.난수로 생성. 안전성 불충분.</li>
  <li><code>temp=$(mktemp /tmp/$(basename $0).$$.XXXXXXXX)</code>: <code>mktemp</code> 프로그램 이용. <code>X</code>의 개수만큼 랜덤 문자 추가.</li>
</ul>

<h3 id="section-78">비동기 실행</h3>

<h4 id="wait">wait</h4>

<pre><code>wait pid
</code></pre>

<p>비동기 실행중인 프로세스가 종료될 때까지 대기함.</p>

<p>예)</p>

<pre><code>async-child-process &amp;
pid=$!
wait $pid
</code></pre>

<ul>
  <li><code>$!</code>: 마지막으로 백그라운드에 진입한 프로세스 ID</li>
</ul>

<h3 id="section-79">네임드 파이프</h3>

<p>프로스세간 통신 수단</p>

<ul>
  <li>네임드 파이프 생성: <code>mkfifo named_pipe</code></li>
  <li>보내기: <code>sending_process &gt; named_pipe</code></li>
  <li>받기: <code>recieving_process &lt; named_pipe</code></li>
</ul>

<p>예)</p>

<ul>
  <li>
    <p>터미널 1:</p>

    <p>mkfifo pipe1
  ls -l &gt; pipe1</p>
  </li>
  <li>
    <p>터미널 2:</p>

    <p>cat &lt; pipe1</p>
  </li>
</ul>

<h3 id="section-80">디버깅</h3>

<h4 id="section-81">에러 출력</h4>

<pre><code>echo "error" &gt;&amp;2 # DEBUG
</code></pre>

<h4 id="tracing">트레이싱 (tracing)</h4>

<ul>
  <li>
    <p><code>/bin/bash -x</code>: <code>bash</code>에 <code>-x-</code> 옵션을 주어 트레이싱</p>

    <p>#!/bin/bash -x
  …</p>
  </li>
  <li>
    <p><code>set -x</code> ~ <code>set +x</code>: 선택 영역 트레이싱</p>

    <p>#!/bin/bash
  …
  set -x # turn on tracing
  …
  set +x # turn off tracing</p>
  </li>
</ul>

<h2 id="section-82">기타</h2>

<h3 id="date">date</h3>

<ul>
  <li><code>date +"format"</code></li>
</ul>

<h4 id="section-83">자주 쓰는 포맷</h4>

<table>
  <thead>
    <tr>
      <th>포맷</th>
      <th>설명</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>%F</code></td>
      <td>날짜, YYYY-MM-DD</td>
    </tr>
    <tr>
      <td><code>%T</code></td>
      <td>시각, HH:MM:SS</td>
    </tr>
    <tr>
      <td><code>%R</code></td>
      <td>시각, HH:MM</td>
    </tr>
    <tr>
      <td><code>%H</code></td>
      <td>시, 00 ~ 23</td>
    </tr>
    <tr>
      <td><code>%I</code></td>
      <td>시, 00 ~ 12</td>
    </tr>
    <tr>
      <td><code>%M</code></td>
      <td>분, 00 ~ 59</td>
    </tr>
    <tr>
      <td><code>%S</code></td>
      <td>초, 00 ~ 60</td>
    </tr>
    <tr>
      <td><code>%N</code></td>
      <td>나노초</td>
    </tr>
    <tr>
      <td><code>%Z</code></td>
      <td>시간 구역 약어</td>
    </tr>
    <tr>
      <td><code>%a</code></td>
      <td>요일 약어</td>
    </tr>
    <tr>
      <td><code>%A</code></td>
      <td>요일</td>
    </tr>
  </tbody>
</table>


    </div>
  </article>
</div>

      </div>
    </div>
    <footer class="site-footer">
  <div class="wrapper">
    <h2 class="footer-heading">박연오</h2>
    <div class="footer-col-wrapper">
      <div class="footer-col  footer-col-1">
        <ul class="contact-list">
          <li><a href="mailto:bakyeono@gmail.com">bakyeono@gmail.com</a></li>
          <li><p class="rss-subscribe"><a href="http://feeds.feedburner.com/bakyeono">RSS 구독</a></p></li>
        </ul>
      </div>
      <div class="footer-col  footer-col-2">
        <ul class="social-media-list">
          
          <li>
            <a href="https://github.com/bakyeono">
              <span class="icon  icon--github">
                <svg viewBox="0 0 16 16">
                  <path fill="#828282" d="M7.999,0.431c-4.285,0-7.76,3.474-7.76,7.761 c0,3.428,2.223,6.337,5.307,7.363c0.388,0.071,0.53-0.168,0.53-0.374c0-0.184-0.007-0.672-0.01-1.32 c-2.159,0.469-2.614-1.04-2.614-1.04c-0.353-0.896-0.862-1.135-0.862-1.135c-0.705-0.481,0.053-0.472,0.053-0.472 c0.779,0.055,1.189,0.8,1.189,0.8c0.692,1.186,1.816,0.843,2.258,0.645c0.071-0.502,0.271-0.843,0.493-1.037 C4.86,11.425,3.049,10.76,3.049,7.786c0-0.847,0.302-1.54,0.799-2.082C3.768,5.507,3.501,4.718,3.924,3.65 c0,0,0.652-0.209,2.134,0.796C6.677,4.273,7.34,4.187,8,4.184c0.659,0.003,1.323,0.089,1.943,0.261 c1.482-1.004,2.132-0.796,2.132-0.796c0.423,1.068,0.157,1.857,0.077,2.054c0.497,0.542,0.798,1.235,0.798,2.082 c0,2.981-1.814,3.637-3.543,3.829c0.279,0.24,0.527,0.713,0.527,1.437c0,1.037-0.01,1.874-0.01,2.129 c0,0.208,0.14,0.449,0.534,0.373c3.081-1.028,5.302-3.935,5.302-7.362C15.76,3.906,12.285,0.431,7.999,0.431z"/>
                </svg>
              </span>
              <span class="username">bakyeono</span>
            </a>
          </li>
          
          
        </ul>
      </div>
      <div class="footer-col  footer-col-3">
        <p class="text">Workers of the world, unite!</p>
      </div>
    </div>
  <div class="copyright"><a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/4.0/"><img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by-nc-sa/4.0/88x31.png" /></a><br />This work is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/4.0/">Creative Commons Attribution-NonCommercial-ShareAlike 4.0 International License</a>.<br />Based on a work at <a xmlns:dct="http://purl.org/dc/terms/" href="http://bakyeono.net" rel="dct:source">http://bakyeono.net</a>.
  </div>
</footer>

  </body>
</html>
