<!DOCTYPE html><html><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description" content="박연오의 개인 웹 페이지. 컴퓨터 프로그래밍 등."><title>프로세스를 이름으로 단번에 종료하기 | 박연오</title><link rel="stylesheet" type="text/css" href="/css/normalize.css"><link rel="stylesheet" type="text/css" href="/css/highlight.css"><link rel="stylesheet" type="text/css" href="/css/very-simple.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/font-awesome/4.5.0/css/font-awesome.min.css"><link rel="Shortcut Icon" type="image/x-icon" href="/favicon.ico"><link rel="alternate" type="application/atom+xml" href="/atom.xml"></head><body><!-- include the sidebar--><!-- include ./includes/sidebar.jade--><!-- Blog title and subtitle--><header><div class="container header"><a id="logo" href="/." class="title">박연오</a><span class="subtitle">bakyeono.net</span><label id="toggle-menu" for="menu" onclick><i class="fa fa-bars"></i></label></div></header><!-- use checkbox hack for toggle nav-bar on small screens--><input id="menu" type="checkbox"><!-- Navigation Links--><nav id="nav"><div class="container"><a href="/" class="sidebar-nav-item active">home</a><a href="/archive" class="sidebar-nav-item">archive</a></div></nav><div id="header-margin-bar"></div><!-- gallery that comes before the header--><div class="wrapper"><div class="container post-header"><h1>프로세스를 이름으로 단번에 종료하기</h1></div></div><div class="wrapper"><div class="container meta"><div class="post-time">2015-05-05</div><div class="post-tags"><a class="post-tag-link" href="/tag/bash/">bash</a>/<a class="post-tag-link" href="/tag/grep/">grep</a>/<a class="post-tag-link" href="/tag/linux/">linux</a></div></div></div><article><div class="container post"><p>오… 맙소사… 그동안의 내 타이핑은 다 뭐였단 말인가???? 아 인생이여!!</p>
<p>그동안 매번 <code>ps -ef | grep PROCESS</code>로 PID를 찾은 다음 <code>kill</code> 했는데, 더 간단하게 프로세스를 끄는 방법을 알았다.</p>
<h2 id="간단-설명"><a href="#간단-설명" class="headerlink" title="간단 설명"></a>간단 설명</h2><h3 id="프로세스명이-일치하는-경우-killall"><a href="#프로세스명이-일치하는-경우-killall" class="headerlink" title="프로세스명이 일치하는 경우 (killall)"></a>프로세스명이 일치하는 경우 (killall)</h3><p>터미널에 아래와 같이 입력한다. 당연히 PROCESS_NAME은 프로세스명으로 대체해서 입력해야 한다.</p>
<pre><code>$ killall -9 PROCESS_NAME
</code></pre><p>이렇게 하면 종료된다.</p>
<h3 id="프로세스-매개변수를-참고해야-하는-경우-pkill-f"><a href="#프로세스-매개변수를-참고해야-하는-경우-pkill-f" class="headerlink" title="프로세스 매개변수를 참고해야 하는 경우 (pkill -f)"></a>프로세스 매개변수를 참고해야 하는 경우 (pkill -f)</h3><p>예를 들어 <code>java -jar my_process.jar</code> 처럼 프로세스명만으로는 원하는 프로그램을 참조할 수 없는 경우가 있다. 이 떄는 <code>pkill</code> 명령에 <code>-f</code> 옵션을 줘서 명령행 전체를 참조해 <code>my_process</code>를 찾아야 한다. 아래와 같이 입력하면 된다.</p>
<pre><code>$ pkill -9 -ef my_process
</code></pre><p>여기서 <code>-9</code>는 KILL 신호를 보내라는 뜻이며, <code>-e</code>는 로그 출력 옵션이다. <code>-f</code> 옵션은 명령행 전체 참조 옵션이다.</p>
<p><code>-9</code> 옵션을 다른 옵션과 따로 지정해야 하는 점에 주의.</p>
<p><a href="http://askubuntu.com/questions/27501/whats-the-difference-between-killall-and-pkill" target="_blank" rel="external">askubuntu.com에 올라온 설명</a>에 따르면 <code>pkill</code>은 프로세스명을 좀 더 느슨한 패턴으로 찾기 떄문에 일반적인 상황에서는 <code>pkill</code>보다 <code>killall</code>을 쓰는 습관을 들이는 편이 더 안전하다고 한다. 물론 둘다 쓰기에 따라 위험할 수 있으니 옵션을 잘 보고 사용해야 한다.</p>
<h2 id="너저분한-설명"><a href="#너저분한-설명" class="headerlink" title="너저분한 설명"></a>너저분한 설명</h2><h3 id="kill"><a href="#kill" class="headerlink" title="kill"></a>kill</h3><p>프로세스를 끄는 명령은 <code>kill -9 PID</code>다.[^kill] <code>kill</code>의 단점은 프로세스 ID(PID)로만 종료할 프로세스를 지정할 수 있다는 점이다.</p>
<h3 id="ps-pidof"><a href="#ps-pidof" class="headerlink" title="ps, pidof"></a>ps, pidof</h3><p>PID는 <code>ps</code> 명령으로 프로세스 목록을 출력해 찾을 수 있다. 만일 프로세스 목록이 길면 눈으로 직접 찾기가 힘들다.</p>
<p><code>pidof PROCESS_NAME</code> 명령을 이용하면 PID를 바로 알아낼 수 있다.</p>
<pre><code>$ pidof ruby
13701
</code></pre><h3 id="ps-ef-grep"><a href="#ps-ef-grep" class="headerlink" title="ps -ef | grep"></a>ps -ef | grep</h3><p><code>ps</code>에 옵션을 지정해 자세히 출력하도록 하고 결과를 <code>grep</code> 하면 다른 세션에서 실행되고 있는 프로세스도 찾을 수 있고, 명령행 전체를 옵션으로 참고할 수도 있다.</p>
<pre><code>$ ps -ef | grep jekyll
bakyeono 13701     1  0 00:41 pts/0    00:00:00 ruby /home/bakyeono/.rvm/gems/ruby-2.2.0/bin/jekyll serve --watch --force_polling --detach
bakyeono 13838  9975  0 01:07 pts/0    00:00:00 grep --color=auto jekyll
</code></pre><h3 id="pgrep"><a href="#pgrep" class="headerlink" title="pgrep"></a>pgrep</h3><p>하지만 <code>ps | grep</code> 대신 둘을 합쳐놓은 <code>pgrep</code>을 이용하는게 더 편하다.</p>
<pre><code>$ pgrep -f jekyll
13701
</code></pre><h3 id="pkill-killall"><a href="#pkill-killall" class="headerlink" title="pkill, killall"></a>pkill, killall</h3><p>위의 방법은 모두 PID를 일단 찾은 뒤에 <code>kill</code>에 전달하는 과정을 거쳐야 한다. 하지만 <code>pkill</code>을 이용하면 한방에 정리할 수 있다.</p>
<pre><code>$ pkill -9 -ef PROCESS_NAME
</code></pre><p>문서 앞부분의 간단 설명에서 말한 것처럼, 프로세스 매개변수를 참조하지 않아도 된다면 <code>killall</code>을 사용해도 된다.</p>
<p>[^kill]: 엄밀히 말하면 <code>kill</code>은 프로세스 종료 명령이 아니라 프로세스에 신호를 보내는 명령이다. 단, 9번 신호(KILL)의 경우에는 신호를 보내지 않고 커널이 바로 프로세스를 정리해 버린다. 고집불통이 된 프로세스를 처리하는 데 필요한 신호가 바로 9번이다.</p>
</div><!-- comment system--><div class="container"><hr></div></article><footer id="footer"><div class="container"><div class="bar"><div class="social"><a href="mailto:bakyeono@gmail.com" target="_blank"><i class="fa fa-envelope-o"></i></a><a href="https://github.com/bakyeono" target="_blank"><i class="fa fa-github"></i></a><a href="http://feeds.feedburner.com/bakyeono" target="_blank"><i class="fa fa-rss"></i></a></div><div class="footer">© 2016 <a href="/" rel="nofollow">박연오</a>. Powered by <a rel="nofollow" target="_blank" href="https://hexo.io">Hexo</a>. Theme <a target="_blank" href="https://github.com/lotabout/very-simple">very-simple</a>.</div></div></div></footer><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/fancybox/2.1.5/jquery.fancybox.css"><script src="//cdn.bootcss.com/jquery/2.0.3/jquery.min.js"></script><script src="//cdn.bootcss.com/fancybox/2.1.5/jquery.fancybox.pack.js"></script><script>$(document).ready(function() {
    $(".fancybox").fancybox();
});</script></body></html>