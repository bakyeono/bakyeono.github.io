<!DOCTYPE html><html><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description" content="박연오의 개인 웹 페이지. 컴퓨터 프로그래밍 등."><title>자바스크립트 - 여러 페이지 사이에 데이터를 저장, 교환하기 | 박연오</title><link rel="stylesheet" type="text/css" href="/css/normalize.css"><link rel="stylesheet" type="text/css" href="/css/highlight.css"><link rel="stylesheet" type="text/css" href="/css/very-simple.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/font-awesome/4.5.0/css/font-awesome.min.css"><link rel="Shortcut Icon" type="image/x-icon" href="/favicon.ico"><link rel="alternate" type="application/atom+xml" href="/atom.xml"></head><body><!-- include the sidebar--><!-- include ./includes/sidebar.jade--><!-- Blog title and subtitle--><header><div class="container header"><a id="logo" href="/." class="title">박연오</a><span class="subtitle">bakyeono.net</span><label id="toggle-menu" for="menu" onclick><i class="fa fa-bars"></i></label></div></header><!-- use checkbox hack for toggle nav-bar on small screens--><input id="menu" type="checkbox"><!-- Navigation Links--><nav id="nav"><div class="container"><a href="/" class="sidebar-nav-item active">home</a><a href="/archive" class="sidebar-nav-item">archive</a></div></nav><div id="header-margin-bar"></div><!-- gallery that comes before the header--><div class="wrapper"><div class="container post-header"><h1>자바스크립트 - 여러 페이지 사이에 데이터를 저장, 교환하기</h1></div></div><div class="wrapper"><div class="container meta"><div class="post-time">2015-09-25</div><div class="post-tags"><a class="post-tag-link" href="/tag/javascript/">javascript</a></div></div></div><article><div class="container post"><h2 id="여러-페이지-사이에-데이터-교환하는-문제"><a href="#여러-페이지-사이에-데이터-교환하는-문제" class="headerlink" title="여러 페이지 사이에 데이터 교환하는 문제"></a>여러 페이지 사이에 데이터 교환하는 문제</h2><p>브라우저 위에서 실행되는 자바스크립트는 기본적으로 페이지에 종속돼 있다. 한 페이지에서 다른 페이지로 전환하면 메모리상의 자바스크립트 개체들은 사라져 버린다.</p>
<p>웹킷을 이용한 프로젝트처럼 여러 페이지 사이에 데이터를 교환해야 할 때는 어떻게 하면 좋을까?</p>
<p>sqlite3이나 파일을 이용해도 되고, 믿을만한 RDBMS를 이용할 수도 있을 것이다. 하지만 목적에 비해 너무 번거롭거나 무거운 감이 있다.</p>
<p>찾아보니 HTML5에서 지원되는 훨씬 편리한 방법이 있었다. 바로 sessionStorage를 이용하는 것이다.</p>
<h2 id="sessionStorage"><a href="#sessionStorage" class="headerlink" title="sessionStorage"></a>sessionStorage</h2><p>sessionStorage를 이용하면 한 세션 안에서 여러 페이지에 걸쳐 데이터를 저장하고 읽을 수 있다. 사용법도 매우 간단하다. 그냥 sessionStorage 객체의 원하는 필드명에 데이터를 넣고 쓰면 된다.</p>
<p>이렇게 쓰고,</p>
<pre><code>sessionStorage.foo = &apos;bar&apos;;
</code></pre><p>이렇게 로드한다.</p>
<pre><code>sessionStorage.foo;
</code></pre><h3 id="JSON과-함께-쓰기"><a href="#JSON과-함께-쓰기" class="headerlink" title="JSON과 함께 쓰기"></a>JSON과 함께 쓰기</h3><p>단, 위의 방법으로는 무조건 문자열만 쓰고 읽을 수 있다. 저기에다 자바스크립트 개체를 넣으면 강제로 <code>toString</code>이 호출돼 원하는 결과가 되지 않을 것이므로 주의해야 한다. 특히 <code>true</code>, <code>false</code>, <code>0</code>, <code>1</code>, <code>2</code> 등 문자열이 아닌 리터럴들을 쓸 때 주의해야 한다.</p>
<p>문자열이든 다른 개체든 JSON 파서를 같이 이용해서 쓰는게 좋다. 간단하다.</p>
<p>이렇게 자바스크립트 개체를 저장하고,</p>
<pre><code>sessionStorage.foo = JSON.stringify({bar: [1, 2, 3, 4, 5], baz: [&apos;a&apos;, &apos;b&apos;, &apos;c&apos;, &apos;d&apos;]});
</code></pre><p>이렇게 자바스크립트 개체를 로드한다.</p>
<pre><code>JSON.parse(sessionStorage.foo);
</code></pre></div><!-- comment system--><div class="container"><hr></div></article><footer id="footer"><div class="container"><div class="bar"><div class="social"><a href="mailto:bakyeono@gmail.com" target="_blank"><i class="fa fa-envelope-o"></i></a><a href="https://github.com/bakyeono" target="_blank"><i class="fa fa-github"></i></a><a href="http://feeds.feedburner.com/bakyeono" target="_blank"><i class="fa fa-rss"></i></a></div><div class="footer">© 2016 <a href="/" rel="nofollow">박연오</a>. Powered by <a rel="nofollow" target="_blank" href="https://hexo.io">Hexo</a>. Theme <a target="_blank" href="https://github.com/lotabout/very-simple">very-simple</a>.</div></div></div></footer><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/fancybox/2.1.5/jquery.fancybox.css"><script src="//cdn.bootcss.com/jquery/2.0.3/jquery.min.js"></script><script src="//cdn.bootcss.com/fancybox/2.1.5/jquery.fancybox.pack.js"></script><script>$(document).ready(function() {
    $(".fancybox").fancybox();
});</script></body></html>